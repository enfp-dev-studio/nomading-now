import{r as p,b as kl,j as c,R as T,c as Sl,d as Ti,P as Lt,u as St,e as qn,O as Ei,f as jl,C as Ci,g as Tl,T as Ni,D as Ai,h as El,L as Pi,i as Ri,k as Oi,l as Cl,m as Tr,n as Nl,o as Qs,p as Ht}from"./ui-sxj5O5cA.js";import{a as Al,b as Pl,g as Rl}from"./vendor-CXPvv_bO.js";import{t as Ol,c as Ii,f as Il}from"./utils-nR0Y-M1a.js";import{l as Wn,M as Ll,T as $l,a as Dl,P as Ul,u as Ml}from"./map-B2vVcBPy.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();var Ts={},va;function Bl(){if(va)return Ts;va=1;var r=Al();return Ts.createRoot=r.createRoot,Ts.hydrateRoot=r.hydrateRoot,Ts}var Vl=Bl();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wr(){return Wr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Wr.apply(this,arguments)}var Nt;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Nt||(Nt={}));const ya="popstate";function Fl(r){r===void 0&&(r={});function e(s,n){let{pathname:a,search:i,hash:o}=s.location;return xn("",{pathname:a,search:i,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(s,n){return typeof n=="string"?n:$s(n)}return ql(e,t,null,r)}function ye(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Li(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zl(){return Math.random().toString(36).substr(2,8)}function ba(r,e){return{usr:r.state,key:r.key,idx:e}}function xn(r,e,t,s){return t===void 0&&(t=null),Wr({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Er(e):e,{state:t,key:e&&e.key||s||zl()})}function $s(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Er(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function ql(r,e,t,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:a=!1}=s,i=n.history,o=Nt.Pop,l=null,d=u();d==null&&(d=0,i.replaceState(Wr({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){o=Nt.Pop;let b=u(),S=b==null?null:b-d;d=b,l&&l({action:o,location:w.location,delta:S})}function m(b,S){o=Nt.Push;let k=xn(w.location,b,S);d=u()+1;let _=ba(k,d),C=w.createHref(k);try{i.pushState(_,"",C)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;n.location.assign(C)}a&&l&&l({action:o,location:w.location,delta:1})}function f(b,S){o=Nt.Replace;let k=xn(w.location,b,S);d=u();let _=ba(k,d),C=w.createHref(k);i.replaceState(_,"",C),a&&l&&l({action:o,location:w.location,delta:0})}function y(b){let S=n.location.origin!=="null"?n.location.origin:n.location.href,k=typeof b=="string"?b:$s(b);return k=k.replace(/ $/,"%20"),ye(S,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,S)}let w={get action(){return o},get location(){return r(n,i)},listen(b){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(ya,h),l=b,()=>{n.removeEventListener(ya,h),l=null}},createHref(b){return e(n,b)},createURL:y,encodeLocation(b){let S=y(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:f,go(b){return i.go(b)}};return w}var wa;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(wa||(wa={}));function Wl(r,e,t){return t===void 0&&(t="/"),Zl(r,e,t)}function Zl(r,e,t,s){let n=typeof e=="string"?Er(e):e,a=br(n.pathname||"/",t);if(a==null)return null;let i=$i(r);Hl(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let d=nc(a);o=rc(i[l],d)}return o}function $i(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let n=(a,i,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let d=At([s,l.relativePath]),u=t.concat(l);a.children&&a.children.length>0&&(ye(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),$i(a.children,e,u,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:ec(d,a.index),routesMeta:u})};return r.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))n(a,i);else for(let l of Di(a.path))n(a,i,l)}),e}function Di(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,n=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return n?[a,""]:[a];let i=Di(s.join("/")),o=[];return o.push(...i.map(l=>l===""?a:[a,l].join("/"))),n&&o.push(...i),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function Hl(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:tc(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const Jl=/^:[\w-]+$/,Kl=3,Gl=2,Yl=1,Xl=10,Ql=-2,xa=r=>r==="*";function ec(r,e){let t=r.split("/"),s=t.length;return t.some(xa)&&(s+=Ql),e&&(s+=Gl),t.filter(n=>!xa(n)).reduce((n,a)=>n+(Jl.test(a)?Kl:a===""?Yl:Xl),s)}function tc(r,e){return r.length===e.length&&r.slice(0,-1).every((s,n)=>s===e[n])?r[r.length-1]-e[e.length-1]:0}function rc(r,e,t){let{routesMeta:s}=r,n={},a="/",i=[];for(let o=0;o<s.length;++o){let l=s[o],d=o===s.length-1,u=a==="/"?e:e.slice(a.length)||"/",h=_n({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},u),m=l.route;if(!h)return null;Object.assign(n,h.params),i.push({params:n,pathname:At([a,h.pathname]),pathnameBase:lc(At([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=At([a,h.pathnameBase]))}return i}function _n(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=sc(r.path,r.caseSensitive,r.end),n=e.match(t);if(!n)return null;let a=n[0],i=a.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let w=o[h]||"";i=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[h];return f&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:i,pattern:r}}function sc(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],n="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),n+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":r!==""&&r!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),s]}function nc(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Li(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function br(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function ac(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:n=""}=typeof r=="string"?Er(r):r;return{pathname:t?t.startsWith("/")?t:ic(t,e):e,search:cc(s),hash:dc(n)}}function ic(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function hn(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oc(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ui(r,e){let t=oc(r);return e?t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Mi(r,e,t,s){s===void 0&&(s=!1);let n;typeof r=="string"?n=Er(r):(n=Wr({},r),ye(!n.pathname||!n.pathname.includes("?"),hn("?","pathname","search",n)),ye(!n.pathname||!n.pathname.includes("#"),hn("#","pathname","hash",n)),ye(!n.search||!n.search.includes("#"),hn("#","search","hash",n)));let a=r===""||n.pathname==="",i=a?"/":n.pathname,o;if(i==null)o=t;else{let h=e.length-1;if(!s&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;n.pathname=m.join("/")}o=h>=0?e[h]:"/"}let l=ac(n,o),d=i&&i!=="/"&&i.endsWith("/"),u=(a||i===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}const At=r=>r.join("/").replace(/\/\/+/g,"/"),lc=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),cc=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,dc=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uc(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Bi=["post","put","patch","delete"];new Set(Bi);const hc=["get",...Bi];new Set(hc);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zr(){return Zr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Zr.apply(this,arguments)}const en=p.createContext(null),Vi=p.createContext(null),$t=p.createContext(null),tn=p.createContext(null),Dt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Fi=p.createContext(null);function fc(r,e){let{relative:t}=e===void 0?{}:e;ds()||ye(!1);let{basename:s,navigator:n}=p.useContext($t),{hash:a,pathname:i,search:o}=rn(r,{relative:t}),l=i;return s!=="/"&&(l=i==="/"?s:At([s,i])),n.createHref({pathname:l,search:o,hash:a})}function ds(){return p.useContext(tn)!=null}function Yt(){return ds()||ye(!1),p.useContext(tn).location}function zi(r){p.useContext($t).static||p.useLayoutEffect(r)}function mc(){let{isDataRoute:r}=p.useContext(Dt);return r?Nc():pc()}function pc(){ds()||ye(!1);let r=p.useContext(en),{basename:e,future:t,navigator:s}=p.useContext($t),{matches:n}=p.useContext(Dt),{pathname:a}=Yt(),i=JSON.stringify(Ui(n,t.v7_relativeSplatPath)),o=p.useRef(!1);return zi(()=>{o.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){s.go(d);return}let h=Mi(d,JSON.parse(i),a,u.relative==="path");r==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:At([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,i,a,r])}const gc=p.createContext(null);function vc(r){let e=p.useContext(Dt).outlet;return e&&p.createElement(gc.Provider,{value:r},e)}function rn(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=p.useContext($t),{matches:n}=p.useContext(Dt),{pathname:a}=Yt(),i=JSON.stringify(Ui(n,s.v7_relativeSplatPath));return p.useMemo(()=>Mi(r,JSON.parse(i),a,t==="path"),[r,i,a,t])}function yc(r,e){return bc(r,e)}function bc(r,e,t,s){ds()||ye(!1);let{navigator:n}=p.useContext($t),{matches:a}=p.useContext(Dt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let d=Yt(),u;if(e){var h;let b=typeof e=="string"?Er(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||ye(!1),u=b}else u=d;let m=u.pathname||"/",f=m;if(l!=="/"){let b=l.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=Wl(r,{pathname:f}),w=Sc(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:At([l,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:At([l,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,s);return e&&w?p.createElement(tn.Provider,{value:{location:Zr({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Nt.Pop}},w):w}function wc(){let r=Cc(),e=uc(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),t?p.createElement("pre",{style:n},t):null,null)}const xc=p.createElement(wc,null);class _c extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(Dt.Provider,{value:this.props.routeContext},p.createElement(Fi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kc(r){let{routeContext:e,match:t,children:s}=r,n=p.useContext(en);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Dt.Provider,{value:e},s)}function Sc(r,e,t,s){var n;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=(n=t)==null?void 0:n.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);u>=0||ye(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,d=-1;if(t&&s&&s.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=t,y=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||y){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,m)=>{let f,y=!1,w=null,b=null;t&&(f=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||xc,l&&(d<0&&m===0?(Ac("route-fallback"),y=!0,b=null):d===m&&(y=!0,b=h.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),k=()=>{let _;return f?_=w:y?_=b:h.route.Component?_=p.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,p.createElement(kc,{match:h,routeContext:{outlet:u,matches:S,isDataRoute:t!=null},children:_})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(_c,{location:t.location,revalidation:t.revalidation,component:w,error:f,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}var qi=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(qi||{}),Wi=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Wi||{});function jc(r){let e=p.useContext(en);return e||ye(!1),e}function Tc(r){let e=p.useContext(Vi);return e||ye(!1),e}function Ec(r){let e=p.useContext(Dt);return e||ye(!1),e}function Zi(r){let e=Ec(),t=e.matches[e.matches.length-1];return t.route.id||ye(!1),t.route.id}function Cc(){var r;let e=p.useContext(Fi),t=Tc(),s=Zi();return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function Nc(){let{router:r}=jc(qi.UseNavigateStable),e=Zi(Wi.UseNavigateStable),t=p.useRef(!1);return zi(()=>{t.current=!0}),p.useCallback(function(n,a){a===void 0&&(a={}),t.current&&(typeof n=="number"?r.navigate(n):r.navigate(n,Zr({fromRouteId:e},a)))},[r,e])}const _a={};function Ac(r,e,t){_a[r]||(_a[r]=!0)}function Pc(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function Rc(r){return vc(r.context)}function hr(r){ye(!1)}function Oc(r){let{basename:e="/",children:t=null,location:s,navigationType:n=Nt.Pop,navigator:a,static:i=!1,future:o}=r;ds()&&ye(!1);let l=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:l,navigator:a,static:i,future:Zr({v7_relativeSplatPath:!1},o)}),[l,o,a,i]);typeof s=="string"&&(s=Er(s));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:y="default"}=s,w=p.useMemo(()=>{let b=br(u,l);return b==null?null:{location:{pathname:b,search:h,hash:m,state:f,key:y},navigationType:n}},[l,u,h,m,f,y,n]);return w==null?null:p.createElement($t.Provider,{value:d},p.createElement(tn.Provider,{children:t,value:w}))}function Ic(r){let{children:e,location:t}=r;return yc(kn(e),t)}new Promise(()=>{});function kn(r,e){e===void 0&&(e=[]);let t=[];return p.Children.forEach(r,(s,n)=>{if(!p.isValidElement(s))return;let a=[...e,n];if(s.type===p.Fragment){t.push.apply(t,kn(s.props.children,a));return}s.type!==hr&&ye(!1),!s.props.index||!s.props.children||ye(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=kn(s.props.children,a)),t.push(i)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Ds.apply(this,arguments)}function Hi(r,e){if(r==null)return{};var t={},s=Object.keys(r),n,a;for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}function Lc(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $c(r,e){return r.button===0&&(!e||e==="_self")&&!Lc(r)}const Dc=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Uc=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Mc="6";try{window.__reactRouterVersion=Mc}catch{}const Bc=p.createContext({isTransitioning:!1}),Vc="startTransition",ka=kl[Vc];function Fc(r){let{basename:e,children:t,future:s,window:n}=r,a=p.useRef();a.current==null&&(a.current=Fl({window:n,v5Compat:!0}));let i=a.current,[o,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:d}=s||{},u=p.useCallback(h=>{d&&ka?ka(()=>l(h)):l(h)},[l,d]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.useEffect(()=>Pc(s),[s]),p.createElement(Oc,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,future:s})}const zc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wc=p.forwardRef(function(e,t){let{onClick:s,relative:n,reloadDocument:a,replace:i,state:o,target:l,to:d,preventScrollReset:u,viewTransition:h}=e,m=Hi(e,Dc),{basename:f}=p.useContext($t),y,w=!1;if(typeof d=="string"&&qc.test(d)&&(y=d,zc))try{let _=new URL(window.location.href),C=d.startsWith("//")?new URL(_.protocol+d):new URL(d),$=br(C.pathname,f);C.origin===_.origin&&$!=null?d=$+C.search+C.hash:w=!0}catch{}let b=fc(d,{relative:n}),S=Hc(d,{replace:i,state:o,target:l,preventScrollReset:u,relative:n,viewTransition:h});function k(_){s&&s(_),_.defaultPrevented||S(_)}return p.createElement("a",Ds({},m,{href:y||b,onClick:w||a?s:k,ref:t,target:l}))}),Sn=p.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:n=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:d,children:u}=e,h=Hi(e,Uc),m=rn(l,{relative:h.relative}),f=Yt(),y=p.useContext(Vi),{navigator:w,basename:b}=p.useContext($t),S=y!=null&&Jc(m)&&d===!0,k=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,_=f.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&b&&(C=br(C,b)||C);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let D=_===k||!i&&_.startsWith(k)&&_.charAt($)==="/",R=C!=null&&(C===k||!i&&C.startsWith(k)&&C.charAt(k.length)==="/"),fe={isActive:D,isPending:R,isTransitioning:S},V=D?s:void 0,Q;typeof a=="function"?Q=a(fe):Q=[a,D?"active":null,R?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let me=typeof o=="function"?o(fe):o;return p.createElement(Wc,Ds({},h,{"aria-current":V,className:Q,ref:t,style:me,to:l,viewTransition:d}),typeof u=="function"?u(fe):u)});var jn;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(jn||(jn={}));var Sa;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Sa||(Sa={}));function Zc(r){let e=p.useContext(en);return e||ye(!1),e}function Hc(r,e){let{target:t,replace:s,state:n,preventScrollReset:a,relative:i,viewTransition:o}=e===void 0?{}:e,l=mc(),d=Yt(),u=rn(r,{relative:i});return p.useCallback(h=>{if($c(h,t)){h.preventDefault();let m=s!==void 0?s:$s(d)===$s(u);l(r,{replace:m,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[d,l,u,s,n,t,r,a,i,o])}function Jc(r,e){e===void 0&&(e={});let t=p.useContext(Bc);t==null&&ye(!1);let{basename:s}=Zc(jn.useViewTransitionState),n=rn(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=br(t.currentLocation.pathname,s)||t.currentLocation.pathname,i=br(t.nextLocation.pathname,s)||t.nextLocation.pathname;return _n(n.pathname,i)!=null||_n(n.pathname,a)!=null}const Kc={theme:"system",setTheme:()=>null},Gc=p.createContext(Kc);function Yc({children:r,defaultTheme:e="system",storageKey:t="vite-ui-theme",...s}){const[n,a]=p.useState(()=>localStorage.getItem(t)||e);p.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),n==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(l);return}o.classList.add(n)},[n]);const i={theme:n,setTheme:o=>{localStorage.setItem(t,o),a(o)}};return c.jsx(Gc.Provider,{...s,value:i,children:r})}var Xc=(r,e,t,s,n,a,i,o)=>{let l=document.documentElement,d=["light","dark"];function u(f){(Array.isArray(r)?r:[r]).forEach(y=>{let w=y==="class",b=w&&a?n.map(S=>a[S]||S):n;w?(l.classList.remove(...b),l.classList.add(a&&a[f]?a[f]:f)):l.setAttribute(y,f)}),h(f)}function h(f){o&&d.includes(f)&&(l.style.colorScheme=f)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)u(s);else try{let f=localStorage.getItem(e)||t,y=i&&f==="system"?m():f;u(y)}catch{}},Qc=p.createContext(void 0),ed={setTheme:r=>{},themes:[]},td=()=>{var r;return(r=p.useContext(Qc))!=null?r:ed};p.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:n,defaultTheme:a,value:i,themes:o,nonce:l,scriptProps:d})=>{let u=JSON.stringify([t,e,a,r,o,i,s,n]).slice(1,-1);return p.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Xc.toString()})(${u})`}})});var rd=r=>{switch(r){case"success":return ad;case"info":return od;case"warning":return id;case"error":return ld;default:return null}},sd=Array(12).fill(0),nd=({visible:r,className:e})=>T.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},T.createElement("div",{className:"sonner-spinner"},sd.map((t,s)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),ad=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),id=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),od=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ld=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cd=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dd=()=>{let[r,e]=T.useState(document.hidden);return T.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r},Tn=1,ud=class{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{let e=this.subscribers.indexOf(r);this.subscribers.splice(e,1)}),this.publish=r=>{this.subscribers.forEach(e=>e(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var e;let{message:t,...s}=r,n=typeof r?.id=="number"||((e=r.id)==null?void 0:e.length)>0?r.id:Tn++,a=this.toasts.find(o=>o.id===n),i=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),a?this.toasts=this.toasts.map(o=>o.id===n?(this.publish({...o,...r,id:n,title:t}),{...o,...r,id:n,dismissible:i,title:t}):o):this.addToast({title:t,...s,dismissible:i,id:n}),n},this.dismiss=r=>(this.dismissedToasts.add(r),r||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:r,dismiss:!0})),r),this.message=(r,e)=>this.create({...e,message:r}),this.error=(r,e)=>this.create({...e,message:r,type:"error"}),this.success=(r,e)=>this.create({...e,type:"success",message:r}),this.info=(r,e)=>this.create({...e,type:"info",message:r}),this.warning=(r,e)=>this.create({...e,type:"warning",message:r}),this.loading=(r,e)=>this.create({...e,type:"loading",message:r}),this.promise=(r,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:r,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=r instanceof Promise?r:r(),n=t!==void 0,a,i=s.then(async l=>{if(a=["resolve",l],T.isValidElement(l))n=!1,this.create({id:t,type:"default",message:l});else if(fd(l)&&!l.ok){n=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:t,type:"error",message:d,description:u})}else if(e.success!==void 0){n=!1;let d=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"success",message:d,description:u})}}).catch(async l=>{if(a=["reject",l],e.error!==void 0){n=!1;let d=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"error",message:d,description:u})}}).finally(()=>{var l;n&&(this.dismiss(t),t=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,d)=>i.then(()=>a[0]==="reject"?d(a[1]):l(a[1])).catch(d));return typeof t!="string"&&typeof t!="number"?{unwrap:o}:Object.assign(t,{unwrap:o})},this.custom=(r,e)=>{let t=e?.id||Tn++;return this.create({jsx:r(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$e=new ud,hd=(r,e)=>{let t=e?.id||Tn++;return $e.addToast({title:r,...e,id:t}),t},fd=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",md=hd,pd=()=>$e.toasts,gd=()=>$e.getActiveToasts(),le=Object.assign(md,{success:$e.success,info:$e.info,warning:$e.warning,error:$e.error,custom:$e.custom,message:$e.message,promise:$e.promise,dismiss:$e.dismiss,loading:$e.loading},{getHistory:pd,getToasts:gd});function vd(r,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}vd(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Es(r){return r.label!==void 0}var yd=3,bd="32px",wd="16px",ja=4e3,xd=356,_d=14,kd=20,Sd=200;function ze(...r){return r.filter(Boolean).join(" ")}function jd(r){let[e,t]=r.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var Td=r=>{var e,t,s,n,a,i,o,l,d,u,h;let{invert:m,toast:f,unstyled:y,interacting:w,setHeights:b,visibleToasts:S,heights:k,index:_,toasts:C,expanded:$,removeToast:D,defaultRichColors:R,closeButton:fe,style:V,cancelButtonStyle:Q,actionButtonStyle:me,className:F="",descriptionClassName:X="",duration:te,position:xe,gap:ve,loadingIcon:_e,expandByDefault:Qe,classNames:Z,icons:Se,closeButtonAriaLabel:Qt="Close toast",pauseWhenPageIsHidden:ee}=r,[re,he]=T.useState(null),[Ee,gt]=T.useState(null),[ce,er]=T.useState(!1),[lt,vt]=T.useState(!1),[Mt,tr]=T.useState(!1),[vs,ys]=T.useState(!1),[bs,ws]=T.useState(!1),[cn,xs]=T.useState(0),[_s,g]=T.useState(0),v=T.useRef(f.duration||te||ja),x=T.useRef(null),A=T.useRef(null),N=_===0,E=_+1<=S,O=f.type,J=f.dismissible!==!1,se=f.className||"",Oe=f.descriptionClassName||"",ct=T.useMemo(()=>k.findIndex(z=>z.toastId===f.id)||0,[k,f.id]),et=T.useMemo(()=>{var z;return(z=f.closeButton)!=null?z:fe},[f.closeButton,fe]),ks=T.useMemo(()=>f.duration||te||ja,[f.duration,te]),Bt=T.useRef(0),tt=T.useRef(0),Ss=T.useRef(0),dt=T.useRef(null),[dn,js]=xe.split("-"),pa=T.useMemo(()=>k.reduce((z,ne,pe)=>pe>=ct?z:z+ne.height,0),[k,ct]),ga=dd(),xl=f.invert||m,un=O==="loading";tt.current=T.useMemo(()=>ct*ve+pa,[ct,pa]),T.useEffect(()=>{v.current=ks},[ks]),T.useEffect(()=>{er(!0)},[]),T.useEffect(()=>{let z=A.current;if(z){let ne=z.getBoundingClientRect().height;return g(ne),b(pe=>[{toastId:f.id,height:ne,position:f.position},...pe]),()=>b(pe=>pe.filter(Be=>Be.toastId!==f.id))}},[b,f.id]),T.useLayoutEffect(()=>{if(!ce)return;let z=A.current,ne=z.style.height;z.style.height="auto";let pe=z.getBoundingClientRect().height;z.style.height=ne,g(pe),b(Be=>Be.find(Ve=>Ve.toastId===f.id)?Be.map(Ve=>Ve.toastId===f.id?{...Ve,height:pe}:Ve):[{toastId:f.id,height:pe,position:f.position},...Be])},[ce,f.title,f.description,b,f.id]);let yt=T.useCallback(()=>{vt(!0),xs(tt.current),b(z=>z.filter(ne=>ne.toastId!==f.id)),setTimeout(()=>{D(f)},Sd)},[f,D,b,tt]);T.useEffect(()=>{if(f.promise&&O==="loading"||f.duration===1/0||f.type==="loading")return;let z;return $||w||ee&&ga?(()=>{if(Ss.current<Bt.current){let ne=new Date().getTime()-Bt.current;v.current=v.current-ne}Ss.current=new Date().getTime()})():v.current!==1/0&&(Bt.current=new Date().getTime(),z=setTimeout(()=>{var ne;(ne=f.onAutoClose)==null||ne.call(f,f),yt()},v.current)),()=>clearTimeout(z)},[$,w,f,O,ee,ga,yt]),T.useEffect(()=>{f.delete&&yt()},[yt,f.delete]);function _l(){var z,ne,pe;return Se!=null&&Se.loading?T.createElement("div",{className:ze(Z?.loader,(z=f?.classNames)==null?void 0:z.loader,"sonner-loader"),"data-visible":O==="loading"},Se.loading):_e?T.createElement("div",{className:ze(Z?.loader,(ne=f?.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":O==="loading"},_e):T.createElement(nd,{className:ze(Z?.loader,(pe=f?.classNames)==null?void 0:pe.loader),visible:O==="loading"})}return T.createElement("li",{tabIndex:0,ref:A,className:ze(F,se,Z?.toast,(e=f?.classNames)==null?void 0:e.toast,Z?.default,Z?.[O],(t=f?.classNames)==null?void 0:t[O]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:R,"data-styled":!(f.jsx||f.unstyled||y),"data-mounted":ce,"data-promise":!!f.promise,"data-swiped":bs,"data-removed":lt,"data-visible":E,"data-y-position":dn,"data-x-position":js,"data-index":_,"data-front":N,"data-swiping":Mt,"data-dismissible":J,"data-type":O,"data-invert":xl,"data-swipe-out":vs,"data-swipe-direction":Ee,"data-expanded":!!($||Qe&&ce),style:{"--index":_,"--toasts-before":_,"--z-index":C.length-_,"--offset":`${lt?cn:tt.current}px`,"--initial-height":Qe?"auto":`${_s}px`,...V,...f.style},onDragEnd:()=>{tr(!1),he(null),dt.current=null},onPointerDown:z=>{un||!J||(x.current=new Date,xs(tt.current),z.target.setPointerCapture(z.pointerId),z.target.tagName!=="BUTTON"&&(tr(!0),dt.current={x:z.clientX,y:z.clientY}))},onPointerUp:()=>{var z,ne,pe,Be;if(vs||!J)return;dt.current=null;let Ve=Number(((z=A.current)==null?void 0:z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bt=Number(((ne=A.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vt=new Date().getTime()-((pe=x.current)==null?void 0:pe.getTime()),Fe=re==="x"?Ve:bt,wt=Math.abs(Fe)/Vt;if(Math.abs(Fe)>=kd||wt>.11){xs(tt.current),(Be=f.onDismiss)==null||Be.call(f,f),gt(re==="x"?Ve>0?"right":"left":bt>0?"down":"up"),yt(),ys(!0),ws(!1);return}tr(!1),he(null)},onPointerMove:z=>{var ne,pe,Be,Ve;if(!dt.current||!J||((ne=window.getSelection())==null?void 0:ne.toString().length)>0)return;let bt=z.clientY-dt.current.y,Vt=z.clientX-dt.current.x,Fe=(pe=r.swipeDirections)!=null?pe:jd(xe);!re&&(Math.abs(Vt)>1||Math.abs(bt)>1)&&he(Math.abs(Vt)>Math.abs(bt)?"x":"y");let wt={x:0,y:0};re==="y"?(Fe.includes("top")||Fe.includes("bottom"))&&(Fe.includes("top")&&bt<0||Fe.includes("bottom")&&bt>0)&&(wt.y=bt):re==="x"&&(Fe.includes("left")||Fe.includes("right"))&&(Fe.includes("left")&&Vt<0||Fe.includes("right")&&Vt>0)&&(wt.x=Vt),(Math.abs(wt.x)>0||Math.abs(wt.y)>0)&&ws(!0),(Be=A.current)==null||Be.style.setProperty("--swipe-amount-x",`${wt.x}px`),(Ve=A.current)==null||Ve.style.setProperty("--swipe-amount-y",`${wt.y}px`)}},et&&!f.jsx?T.createElement("button",{"aria-label":Qt,"data-disabled":un,"data-close-button":!0,onClick:un||!J?()=>{}:()=>{var z;yt(),(z=f.onDismiss)==null||z.call(f,f)},className:ze(Z?.closeButton,(n=f?.classNames)==null?void 0:n.closeButton)},(a=Se?.close)!=null?a:cd):null,f.jsx||p.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:T.createElement(T.Fragment,null,O||f.icon||f.promise?T.createElement("div",{"data-icon":"",className:ze(Z?.icon,(i=f?.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||_l():null,f.type!=="loading"?f.icon||Se?.[O]||rd(O):null):null,T.createElement("div",{"data-content":"",className:ze(Z?.content,(o=f?.classNames)==null?void 0:o.content)},T.createElement("div",{"data-title":"",className:ze(Z?.title,(l=f?.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?T.createElement("div",{"data-description":"",className:ze(X,Oe,Z?.description,(d=f?.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),p.isValidElement(f.cancel)?f.cancel:f.cancel&&Es(f.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||Q,onClick:z=>{var ne,pe;Es(f.cancel)&&J&&((pe=(ne=f.cancel).onClick)==null||pe.call(ne,z),yt())},className:ze(Z?.cancelButton,(u=f?.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,p.isValidElement(f.action)?f.action:f.action&&Es(f.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||me,onClick:z=>{var ne,pe;Es(f.action)&&((pe=(ne=f.action).onClick)==null||pe.call(ne,z),!z.defaultPrevented&&yt())},className:ze(Z?.actionButton,(h=f?.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Ta(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function Ed(r,e){let t={};return[r,e].forEach((s,n)=>{let a=n===1,i=a?"--mobile-offset":"--offset",o=a?wd:bd;function l(d){["top","right","bottom","left"].forEach(u=>{t[`${i}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?t[`${i}-${d}`]=o:t[`${i}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):l(o)}),t}var Cd=p.forwardRef(function(r,e){let{invert:t,position:s="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:f,visibleToasts:y=yd,toastOptions:w,dir:b=Ta(),gap:S=_d,loadingIcon:k,icons:_,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:$}=r,[D,R]=T.useState([]),fe=T.useMemo(()=>Array.from(new Set([s].concat(D.filter(ee=>ee.position).map(ee=>ee.position)))),[D,s]),[V,Q]=T.useState([]),[me,F]=T.useState(!1),[X,te]=T.useState(!1),[xe,ve]=T.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_e=T.useRef(null),Qe=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=T.useRef(null),Se=T.useRef(!1),Qt=T.useCallback(ee=>{R(re=>{var he;return(he=re.find(Ee=>Ee.id===ee.id))!=null&&he.delete||$e.dismiss(ee.id),re.filter(({id:Ee})=>Ee!==ee.id)})},[]);return T.useEffect(()=>$e.subscribe(ee=>{if(ee.dismiss){R(re=>re.map(he=>he.id===ee.id?{...he,delete:!0}:he));return}setTimeout(()=>{Sl.flushSync(()=>{R(re=>{let he=re.findIndex(Ee=>Ee.id===ee.id);return he!==-1?[...re.slice(0,he),{...re[he],...ee},...re.slice(he+1)]:[ee,...re]})})})}),[]),T.useEffect(()=>{if(u!=="system"){ve(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ve("dark"):ve("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:re})=>{ve(re?"dark":"light")})}catch{ee.addListener(({matches:he})=>{try{ve(he?"dark":"light")}catch(Ee){console.error(Ee)}})}},[u]),T.useEffect(()=>{D.length<=1&&F(!1)},[D]),T.useEffect(()=>{let ee=re=>{var he,Ee;n.every(gt=>re[gt]||re.code===gt)&&(F(!0),(he=_e.current)==null||he.focus()),re.code==="Escape"&&(document.activeElement===_e.current||(Ee=_e.current)!=null&&Ee.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[n]),T.useEffect(()=>{if(_e.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,Se.current=!1)}},[_e.current]),T.createElement("section",{ref:e,"aria-label":`${C} ${Qe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},fe.map((ee,re)=>{var he;let[Ee,gt]=ee.split("-");return D.length?T.createElement("ol",{key:ee,dir:b==="auto"?Ta():b,tabIndex:-1,ref:_e,className:o,"data-sonner-toaster":!0,"data-theme":xe,"data-y-position":Ee,"data-lifted":me&&D.length>1&&!a,"data-x-position":gt,style:{"--front-toast-height":`${((he=V[0])==null?void 0:he.height)||0}px`,"--width":`${xd}px`,"--gap":`${S}px`,...f,...Ed(l,d)},onBlur:ce=>{Se.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(Se.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||Se.current||(Se.current=!0,Z.current=ce.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{X||F(!1)},onDragEnd:()=>F(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},D.filter(ce=>!ce.position&&re===0||ce.position===ee).map((ce,er)=>{var lt,vt;return T.createElement(Td,{key:ce.id,icons:_,index:er,toast:ce,defaultRichColors:h,duration:(lt=w?.duration)!=null?lt:m,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:t,visibleToasts:y,closeButton:(vt=w?.closeButton)!=null?vt:i,interacting:X,position:ee,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,removeToast:Qt,toasts:D.filter(Mt=>Mt.position==ce.position),heights:V.filter(Mt=>Mt.position==ce.position),setHeights:Q,expandByDefault:a,gap:S,loadingIcon:k,expanded:me,pauseWhenPageIsHidden:$,swipeDirections:r.swipeDirections})})):null}))});const Nd=({...r})=>{const{theme:e="system"}=td();return c.jsx(Cd,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r})},Ad="modulepreload",Pd=function(r){return"/"+r},Ea={},Cr=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){let i=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");n=i(t.map(d=>{if(d=Pd(d),d in Ea)return;Ea[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Ad,u||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((f,y)=>{m.addEventListener("load",f),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return n.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Ca=r=>{let e;const t=new Set,s=(d,u)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const m=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,m))}},n=()=>e,o={setState:s,getState:n,getInitialState:()=>l,subscribe:d=>(t.add(d),()=>t.delete(d))},l=e=r(s,n,o);return o},Rd=r=>r?Ca(r):Ca,Od=r=>r;function Id(r,e=Od){const t=T.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return T.useDebugValue(t),t}const Na=r=>{const e=Rd(r),t=s=>Id(e,s);return Object.assign(t,e),t},Ji=r=>r?Na(r):Na,Nr=Ji((r,e)=>({user:null,isLoading:!0,setUser:t=>r({user:t}),setLoading:t=>r({isLoading:t}),signOut:async()=>{const{auth:t}=await Cr(async()=>{const{auth:s}=await Promise.resolve().then(()=>Mh);return{auth:s}},void 0);await t.signOut(),r({user:null})}})),Ld=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Cr(async()=>{const{default:s}=await Promise.resolve().then(()=>Ar);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Zn extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class $d extends Zn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dd extends Zn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ud extends Zn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var En;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(En||(En={}));var Md=function(r,e,t,s){function n(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(s.next(u))}catch(h){i(h)}}function l(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):n(u.value).then(o,l)}d((s=s.apply(r,e||[])).next())})};class Bd{constructor(e,{headers:t={},customFetch:s,region:n=En.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Ld(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return Md(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:i}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let d;i&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(o["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(o["Content-Type"]="application/json",d=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),n),body:d}).catch(y=>{throw new $d(y)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Dd(u);if(!u.ok)throw new Ud(u);let m=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),f;return m==="application/json"?f=yield u.json():m==="application/octet-stream"?f=yield u.blob():m==="text/event-stream"?f=u:m==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(n){return{data:null,error:n}}})}}var je={},rr={},sr={},nr={},ar={},ir={},Vd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wr=Vd();const Fd=wr.fetch,Ki=wr.fetch.bind(wr),Gi=wr.Headers,zd=wr.Request,qd=wr.Response,Ar=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gi,Request:zd,Response:qd,default:Ki,fetch:Fd},Symbol.toStringTag,{value:"Module"})),Wd=Pl(Ar);var Cs={},Aa;function Yi(){if(Aa)return Cs;Aa=1,Object.defineProperty(Cs,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Cs.default=r,Cs}var Pa;function Xi(){if(Pa)return ir;Pa=1;var r=ir&&ir.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ir,"__esModule",{value:!0});const e=r(Wd),t=r(Yi());class s{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=Object.assign({},this.headers),this.headers[a]=i,this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var u,h,m;let f=null,y=null,w=null,b=d.status,S=d.statusText;if(d.ok){if(this.method!=="HEAD"){const $=await d.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=$:y=JSON.parse($))}const _=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),C=(h=d.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(f={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,b=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await d.text();try{f=JSON.parse(_),Array.isArray(f)&&d.status===404&&(y=[],f=null,b=200,S="OK")}catch{d.status===404&&_===""?(b=204,S="No Content"):f={message:_}}if(f&&this.isMaybeSingle&&(!((m=f?.details)===null||m===void 0)&&m.includes("0 rows"))&&(f=null,b=200,S="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:y,count:w,status:b,statusText:S}});return this.shouldThrowOnError||(l=l.catch(d=>{var u,h,m;return{error:{message:`${(u=d?.name)!==null&&u!==void 0?u:"FetchError"}: ${d?.message}`,details:`${(h=d?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=d?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,i)}returns(){return this}overrideTypes(){return this}}return ir.default=s,ir}var Ra;function Qi(){if(Ra)return ar;Ra=1;var r=ar&&ar.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ar,"__esModule",{value:!0});const e=r(Xi());class t extends e.default{select(n){let a=!1;const i=(n??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:a=!0,nullsFirst:i,foreignTable:o,referencedTable:l=o}={}){const d=l?`${l}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${n}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:a,referencedTable:i=a}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(d,`${a-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:a=!1,settings:i=!1,buffers:o=!1,wal:l=!1,format:d="text"}={}){var u;const h=[n?"analyze":null,a?"verbose":null,i?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${m}"; options=${h};`,d==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ar.default=t,ar}var Oa;function Hn(){if(Oa)return nr;Oa=1;var r=nr&&nr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(nr,"__esModule",{value:!0});const e=r(Qi());class t extends e.default{eq(n,a){return this.url.searchParams.append(n,`eq.${a}`),this}neq(n,a){return this.url.searchParams.append(n,`neq.${a}`),this}gt(n,a){return this.url.searchParams.append(n,`gt.${a}`),this}gte(n,a){return this.url.searchParams.append(n,`gte.${a}`),this}lt(n,a){return this.url.searchParams.append(n,`lt.${a}`),this}lte(n,a){return this.url.searchParams.append(n,`lte.${a}`),this}like(n,a){return this.url.searchParams.append(n,`like.${a}`),this}likeAllOf(n,a){return this.url.searchParams.append(n,`like(all).{${a.join(",")}}`),this}likeAnyOf(n,a){return this.url.searchParams.append(n,`like(any).{${a.join(",")}}`),this}ilike(n,a){return this.url.searchParams.append(n,`ilike.${a}`),this}ilikeAllOf(n,a){return this.url.searchParams.append(n,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(n,a){return this.url.searchParams.append(n,`ilike(any).{${a.join(",")}}`),this}is(n,a){return this.url.searchParams.append(n,`is.${a}`),this}in(n,a){const i=Array.from(new Set(a)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${i})`),this}contains(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cs.{${a.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(a)}`),this}containedBy(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cd.{${a.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(a)}`),this}rangeGt(n,a){return this.url.searchParams.append(n,`sr.${a}`),this}rangeGte(n,a){return this.url.searchParams.append(n,`nxl.${a}`),this}rangeLt(n,a){return this.url.searchParams.append(n,`sl.${a}`),this}rangeLte(n,a){return this.url.searchParams.append(n,`nxr.${a}`),this}rangeAdjacent(n,a){return this.url.searchParams.append(n,`adj.${a}`),this}overlaps(n,a){return typeof a=="string"?this.url.searchParams.append(n,`ov.${a}`):this.url.searchParams.append(n,`ov.{${a.join(",")}}`),this}textSearch(n,a,{config:i,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(n,`${l}fts${d}.${a}`),this}match(n){return Object.entries(n).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(n,a,i){return this.url.searchParams.append(n,`not.${a}.${i}`),this}or(n,{foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,a,i){return this.url.searchParams.append(n,`${a}.${i}`),this}}return nr.default=t,nr}var Ia;function eo(){if(Ia)return sr;Ia=1;var r=sr&&sr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(sr,"__esModule",{value:!0});const e=r(Hn());class t{constructor(n,{headers:a={},schema:i,fetch:o}){this.url=n,this.headers=a,this.schema=i,this.fetch=o}select(n,{head:a=!1,count:i}={}){const o=a?"HEAD":"GET";let l=!1;const d=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",d),i&&(this.headers.Prefer=`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:a,defaultToNull:i=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const d=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:a,ignoreDuplicates:i=!1,count:o,defaultToNull:l=!0}={}){const d="POST",u=[`resolution=${i?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const h=n.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(h.length>0){const m=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:a}={}){const i="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const a="DELETE",i=[];return n&&i.push(`count=${n}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return sr.default=t,sr}var Pr={},Rr={},La;function Zd(){return La||(La=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.version=void 0,Rr.version="0.0.0-automated"),Rr}var $a;function Hd(){if($a)return Pr;$a=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.DEFAULT_HEADERS=void 0;const r=Zd();return Pr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Pr}var Da;function Jd(){if(Da)return rr;Da=1;var r=rr&&rr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rr,"__esModule",{value:!0});const e=r(eo()),t=r(Hn()),s=Hd();class n{constructor(i,{headers:o={},schema:l,fetch:d}={}){this.url=i,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),o),this.schemaName=l,this.fetch=d}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:d=!1,count:u}={}){let h;const m=new URL(`${this.url}/rpc/${i}`);let f;l||d?(h=l?"HEAD":"GET",Object.entries(o).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{m.searchParams.append(w,b)})):(h="POST",f=o);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new t.default({method:h,url:m,headers:y,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return rr.default=n,rr}var Ua;function Kd(){if(Ua)return je;Ua=1;var r=je&&je.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(je,"__esModule",{value:!0}),je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const e=r(Jd());je.PostgrestClient=e.default;const t=r(eo());je.PostgrestQueryBuilder=t.default;const s=r(Hn());je.PostgrestFilterBuilder=s.default;const n=r(Qi());je.PostgrestTransformBuilder=n.default;const a=r(Xi());je.PostgrestBuilder=a.default;const i=r(Yi());return je.PostgrestError=i.default,je.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:a.default,PostgrestError:i.default},je}var Gd=Kd();const Yd=Rl(Gd),{PostgrestClient:Xd,PostgrestQueryBuilder:Dp,PostgrestFilterBuilder:Up,PostgrestTransformBuilder:Mp,PostgrestBuilder:Bp,PostgrestError:Vp}=Yd;function Qd(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const eu=Qd(),tu="2.11.15",ru=`realtime-js/${tu}`,su="1.0.0",to=1e4,nu=1e3;var Mr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Mr||(Mr={}));var Ne;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ne||(Ne={}));var He;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(He||(He={}));var Cn;(function(r){r.websocket="websocket"})(Cn||(Cn={}));var Wt;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Wt||(Wt={}));class au{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=s.decode(e.slice(i,i+n));i=i+n;const l=s.decode(e.slice(i,i+a));i=i+a;const d=JSON.parse(s.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:l,payload:d}}}class ro{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(de||(de={}));const Ma=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((a,i)=>(a[i]=iu(i,r,e,n),a),{})},iu=(r,e,t,s)=>{const n=e.find(o=>o.name===r),a=n?.type,i=t[r];return a&&!s.includes(a)?so(a,i):Nn(i)},so=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return du(e,t)}switch(r){case de.bool:return ou(e);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return lu(e);case de.json:case de.jsonb:return cu(e);case de.timestamp:return uu(e);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return Nn(e);default:return Nn(e)}},Nn=r=>r,ou=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},lu=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},cu=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},du=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let a;const i=r.slice(1,t);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>so(e,o))}return r},uu=r=>typeof r=="string"?r.replace(" ","T"):r,no=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class fn{constructor(e,t,s={},n=to){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ba;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Ba||(Ba={}));class Br{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Br.syncState(this.state,n,a,i),this.pendingDiffs.forEach(l=>{this.state=Br.syncDiff(this.state,l,a,i)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},n=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Br.syncDiff(this.state,n,a,i),o())}),this.onJoin((n,a,i)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:a,newPresences:i})}),this.onLeave((n,a,i)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const a=this.cloneDeep(e),i=this.transformState(t),o={},l={};return this.map(a,(d,u)=>{i[d]||(l[d]=u)}),this.map(i,(d,u)=>{const h=a[d];if(h){const m=u.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),y=u.filter(b=>f.indexOf(b.presence_ref)<0),w=h.filter(b=>m.indexOf(b.presence_ref)<0);y.length>0&&(o[d]=y),w.length>0&&(l[d]=w)}else o[d]=u}),this.syncDiff(a,{joins:o,leaves:l},s,n)}static syncDiff(e,t,s,n){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(a,(o,l)=>{var d;const u=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(l),u.length>0){const h=e[o].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);e[o].unshift(...m)}s(o,u,l)}),this.map(i,(o,l)=>{let d=e[o];if(!d)return;const u=l.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[o]=d,n(o,d,l),d.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Va;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Va||(Va={}));var Fa;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Fa||(Fa={}));var mt;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class Jn{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new fn(this,He.join,this.params,this.timeout),this.rejoinTimer=new ro(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(n,a)=>{this._trigger(this._replyEventName(a),n)}),this.presence=new Br(this),this.broadcastEndpointURL=no(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){const{config:{broadcast:a,presence:i,private:o}}=this.params;this._onError(u=>e?.(mt.CHANNEL_ERROR,u)),this._onClose(()=>e?.(mt.CLOSED));const l={},d={broadcast:a,presence:i,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&n!==void 0?n:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e?.(mt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,f=(h=m?.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<f;w++){const b=m[w],{filter:{event:S,schema:k,table:_,filter:C}}=b,$=u&&u[w];if($&&$.event===S&&$.schema===k&&$.table===_&&$.filter===C)y.push(Object.assign(Object.assign({},b),{id:$.id}));else{this.unsubscribe(),this.state=Ne.errored,e?.(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(mt.SUBSCRIBED);return}}).receive("error",u=>{this.state=Ne.errored,e?.(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e?.(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,o,l;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ne.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new fn(this,He.leave,{},e),s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,s){const n=new AbortController,a=setTimeout(()=>n.abort(),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),i}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new fn(this,e,t,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,a;const i=e.toLocaleLowerCase(),{close:o,error:l,leave:d,join:u}=He;if(s&&[o,l,d,u].indexOf(i)>=0&&s!==this._joinRef())return;let m=this._onMessage(i,t,s);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var y,w,b;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=f.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(f=>f.callback(m,s)):(a=this.bindings[i])===null||a===void 0||a.filter(f=>{var y,w,b,S,k,_;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in f){const C=f.id,$=(y=f.filter)===null||y===void 0?void 0:y.event;return C&&((w=t.ids)===null||w===void 0?void 0:w.includes(C))&&($==="*"||$?.toLocaleLowerCase()===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const C=(k=(S=f?.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return C==="*"||C===((_=t?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===i}).map(f=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:w,table:b,commit_timestamp:S,type:k,errors:_}=y;m=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:S,eventType:k,new:{},old:{},errors:_}),this._getPayloadRecords(y))}f.callback(m,s)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var a;return!(((a=n.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Jn.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(He.close,{},e)}_onError(e){this._on(He.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ma(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ma(e.columns,e.old_record)),t}}const za=()=>{},hu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fu{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=to,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=za,this.ref=0,this.logger=za,this.conn=null,this.sendBuffer=[],this.serializer=new au,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Cr(async()=>{const{default:l}=await Promise.resolve().then(()=>Ar);return{default:l}},void 0).then(({default:l})=>l(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${e}/${Cn.websocket}`,this.httpEndpoint=no(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(s=t?.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=t?.encode?t.encode:(a,i)=>i(JSON.stringify(a)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ro(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=eu),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:su}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Mr.connecting:return Wt.Connecting;case Mr.open:return Wt.Open;case Mr.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}channel(e,t={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(a=>a.topic===s);if(n)return n;{const a=new Jn(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:s,payload:n,ref:a}=e,i=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${s} (${a})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const n={access_token:t,version:ru};t&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(He.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(nu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:n,payload:a,ref:i}=t;s==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${n} ${i&&"("+i+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(s)).forEach(o=>o._trigger(n,a,i)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(He.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([hu],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class Kn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Te(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class mu extends Kn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class An extends Kn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var pu=function(r,e,t,s){function n(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(s.next(u))}catch(h){i(h)}}function l(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):n(u.value).then(o,l)}d((s=s.apply(r,e||[])).next())})};const ao=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Cr(async()=>{const{default:s}=await Promise.resolve().then(()=>Ar);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},gu=()=>pu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cr(()=>Promise.resolve().then(()=>Ar),void 0)).Response:Response}),Pn=r=>{if(Array.isArray(r))return r.map(t=>Pn(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const n=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[n]=Pn(s)}),e};var Xt=function(r,e,t,s){function n(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(s.next(u))}catch(h){i(h)}}function l(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):n(u.value).then(o,l)}d((s=s.apply(r,e||[])).next())})};const mn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),vu=(r,e,t)=>Xt(void 0,void 0,void 0,function*(){const s=yield gu();r instanceof s&&!t?.noResolveJson?r.json().then(n=>{e(new mu(mn(n),r.status||500))}).catch(n=>{e(new An(mn(n),n))}):e(new An(mn(r),r))}),yu=(r,e,t,s)=>{const n={method:r,headers:e?.headers||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),t))};function us(r,e,t,s,n,a){return Xt(this,void 0,void 0,function*(){return new Promise((i,o)=>{r(t,yu(e,s,n,a)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>vu(l,o,s))})})}function Us(r,e,t,s){return Xt(this,void 0,void 0,function*(){return us(r,"GET",e,t,s)})}function _t(r,e,t,s,n){return Xt(this,void 0,void 0,function*(){return us(r,"POST",e,s,n,t)})}function bu(r,e,t,s,n){return Xt(this,void 0,void 0,function*(){return us(r,"PUT",e,s,n,t)})}function wu(r,e,t,s){return Xt(this,void 0,void 0,function*(){return us(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function io(r,e,t,s,n){return Xt(this,void 0,void 0,function*(){return us(r,"DELETE",e,s,n,t)})}var Ie=function(r,e,t,s){function n(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(s.next(u))}catch(h){i(h)}}function l(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):n(u.value).then(o,l)}d((s=s.apply(r,e||[])).next())})};const xu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _u{constructor(e,t={},s,n){this.url=e,this.headers=t,this.bucketId=s,this.fetch=ao(n)}uploadOrUpdate(e,t,s,n){return Ie(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},qa),n);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=s,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(o=Object.assign(Object.assign({},o),n.headers));const d=this._removeEmptyFolders(t),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:a,headers:o},i?.duplex?{duplex:i.duplex}:{})),m=yield h.json();return h.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(Te(a))return{data:null,error:a};throw a}})}upload(e,t,s){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return Ie(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let l;const d=Object.assign({upsert:qa.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",d.cacheControl)):(l=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),m=yield h.json();return h.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(Te(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t?.upsert&&(n["x-upsert"]="true");const a=yield _t(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new Kn("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}update(e,t,s){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return Ie(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}copy(e,t,s){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield _t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return Ie(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield _t(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return Ie(this,void 0,void 0,function*(){try{const n=yield _t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}download(e,t){return Ie(this,void 0,void 0,function*(){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),i=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Us(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Te(o))return{data:null,error:o};throw o}})}info(e){return Ie(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Us(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Pn(s),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}exists(e){return Ie(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield wu(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Te(s)&&s instanceof An){const n=s.originalError;if([400,404].includes(n?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const o=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&n.push(l);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${d}`)}}}remove(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}})}list(e,t,s){return Ie(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},xu),t),{prefix:e||""});return{data:yield _t(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ku="2.7.1",Su={"X-Client-Info":`storage-js/${ku}`};var or=function(r,e,t,s){function n(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(s.next(u))}catch(h){i(h)}}function l(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):n(u.value).then(o,l)}d((s=s.apply(r,e||[])).next())})};class ju{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},Su),t),this.fetch=ao(s)}listBuckets(){return or(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Te(e))return{data:null,error:e};throw e}})}getBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return or(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return or(this,void 0,void 0,function*(){try{return{data:yield bu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}})}emptyBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}})}deleteBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}})}}class Tu extends ju{constructor(e,t={},s){super(e,t,s)}from(e){return new _u(this.url,this.headers,e,this.fetch)}}const Eu="2.50.2";let $r="";typeof Deno<"u"?$r="deno":typeof document<"u"?$r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$r="react-native":$r="node";const Cu={"X-Client-Info":`supabase-js-${$r}/${Eu}`},Nu={headers:Cu},Au={schema:"public"},Pu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ru={};var Ou=function(r,e,t,s){function n(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(s.next(u))}catch(h){i(h)}}function l(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):n(u.value).then(o,l)}d((s=s.apply(r,e||[])).next())})};const Iu=r=>{let e;return r?e=r:typeof fetch>"u"?e=Ki:e=fetch,(...t)=>e(...t)},Lu=()=>typeof Headers>"u"?Gi:Headers,$u=(r,e,t)=>{const s=Iu(t),n=Lu();return(a,i)=>Ou(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let d=new n(i?.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),s(a,Object.assign(Object.assign({},i),{headers:d}))})};var Du=function(r,e,t,s){function n(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(s.next(u))}catch(h){i(h)}}function l(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):n(u.value).then(o,l)}d((s=s.apply(r,e||[])).next())})};function Uu(r){return r.endsWith("/")?r:r+"/"}function Mu(r,e){var t,s;const{db:n,auth:a,realtime:i,global:o}=r,{db:l,auth:d,realtime:u,global:h}=e,m={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(t=h?.headers)!==null&&t!==void 0?t:{}),(s=o?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Du(this,void 0,void 0,function*(){return""})};return r.accessToken?m.accessToken=r.accessToken:delete m.accessToken,m}const oo="2.70.0",fr=30*1e3,Rn=3,pn=Rn*fr,Bu="http://localhost:9999",Vu="supabase.auth.token",Fu={"X-Client-Info":`gotrue-js/${oo}`},On="X-Supabase-Api-Version",lo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qu=6e5;class Gn extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function q(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Wu extends Gn{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function Zu(r){return q(r)&&r.name==="AuthApiError"}class co extends Gn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ut extends Gn{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class xt extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hu(r){return q(r)&&r.name==="AuthSessionMissingError"}class Ns extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ps extends Ut{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ju(r){return q(r)&&r.name==="AuthImplicitGrantRedirectError"}class Wa extends Ut{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class In extends Ut{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function gn(r){return q(r)&&r.name==="AuthRetryableFetchError"}class Za extends Ut{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class Vr extends Ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ha=` 	
\r=`.split(""),Ku=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Ha.length;e+=1)r[Ha[e].charCodeAt(0)]=-2;for(let e=0;e<Ms.length;e+=1)r[Ms[e].charCodeAt(0)]=e;return r})();function Ja(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(Ms[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(Ms[s]),e.queuedBits-=6}}function uo(r,e,t){const s=Ku[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Ka(r){const e=[],t=i=>{e.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=i=>{Xu(i,s,t)};for(let i=0;i<r.length;i+=1)uo(r.charCodeAt(i),n,a);return e.join("")}function Gu(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Yu(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}Gu(s,e)}}function Xu(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Qu(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<r.length;n+=1)uo(r.charCodeAt(n),t,s);return new Uint8Array(e)}function eh(r){const e=[];return Yu(r,t=>e.push(t)),new Uint8Array(e)}function th(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};return r.forEach(n=>Ja(n,t,s)),Ja(null,t,s),e.join("")}function rh(r){return Math.round(Date.now()/1e3)+r}function sh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const qe=()=>typeof window<"u"&&typeof document<"u",Ft={tested:!1,writable:!1},Fr=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ft.tested)return Ft.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ft.tested=!0,Ft.writable=!0}catch{Ft.tested=!0,Ft.writable=!1}return Ft.writable};function nh(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,a)=>{e[a]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const ho=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Cr(async()=>{const{default:s}=await Promise.resolve().then(()=>Ar);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},ah=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",fo=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Rs=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Os=async(r,e)=>{await r.removeItem(e)};class sn{constructor(){this.promise=new sn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}sn.promiseConstructor=Promise;function vn(r){const e=r.split(".");if(e.length!==3)throw new Vr("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!zu.test(e[s]))throw new Vr("JWT not in base64url format");return{header:JSON.parse(Ka(e[0])),payload:JSON.parse(Ka(e[1])),signature:Qu(e[2]),raw:{header:e[0],payload:e[1]}}}async function ih(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function oh(r,e){return new Promise((s,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await r(a);if(!e(a,null,i)){s(i);return}}catch(i){if(!e(a,i)){n(i);return}}})()})}function lh(r){return("0"+r.toString(16)).substr(-2)}function ch(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let a=0;a<56;a++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,lh).join("")}async function dh(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(a=>String.fromCharCode(a)).join("")}async function uh(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await dh(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lr(r,e,t=!1){const s=ch();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await fo(r,`${e}-code-verifier`,n);const a=await uh(s);return[a,s===a?"plain":"s256"]}const hh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fh(r){const e=r.headers.get(On);if(!e||!e.match(hh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mh(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function ph(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cr(r){if(!gh.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var vh=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const zt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),yh=[502,503,504];async function Ga(r){var e;if(!ah(r))throw new In(zt(r),0);if(yh.includes(r.status))throw new In(zt(r),r.status);let t;try{t=await r.json()}catch(a){throw new co(zt(a),a)}let s;const n=fh(r);if(n&&n.getTime()>=lo["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Za(zt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new xt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Za(zt(t),r.status,t.weak_password.reasons);throw new Wu(zt(t),r.status||500,s)}const bh=(r,e,t,s)=>{const n={method:r,headers:e?.headers||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function K(r,e,t,s){var n;const a=Object.assign({},s?.headers);a[On]||(a[On]=lo["2024-01-01"].name),s?.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const i=(n=s?.query)!==null&&n!==void 0?n:{};s?.redirectTo&&(i.redirect_to=s.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await wh(r,e,t+o,{headers:a,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function wh(r,e,t,s,n,a){const i=bh(e,s,n,a);let o;try{o=await r(t,Object.assign({},i))}catch(l){throw console.error(l),new In(zt(l),0)}if(o.ok||await Ga(o),s?.noResolveJson)return o;try{return await o.json()}catch(l){await Ga(l)}}function ht(r){var e;let t=null;Sh(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=rh(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function Ya(r){const e=ht(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function jt(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function xh(r){return{data:r,error:null}}function _h(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:a}=r,i=vh(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:a},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function kh(r){return r}function Sh(r){return r.access_token&&r.refresh_token&&r.expires_in}const yn=["global","local","others"];var jh=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class Th{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=ho(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=yn[0]){if(yn.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yn.join(", ")}`);try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:jt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=jh(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s?.newEmail,delete n.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:_h,redirectTo:t?.redirectTo})}catch(t){if(q(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jt})}catch(t){if(q(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,a,i,o,l;try{const d={nextPage:null,lastPage:0,total:0},u=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(a=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:kh});if(u.error)throw u.error;const h=await u.json(),m=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);d[`${b}Page`]=w}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(q(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){cr(e);try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jt})}catch(t){if(q(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){cr(e);try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:jt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){cr(e);try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:jt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){cr(e.userId);try{const{data:t,error:s}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(q(t))return{data:null,error:t};throw t}}async _deleteFactor(e){cr(e.userId),cr(e.id);try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}}const Eh={getItem:r=>Fr()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Fr()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Fr()&&globalThis.localStorage.removeItem(r)}};function Xa(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Ch(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dr={debug:!!(globalThis&&Fr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nh extends mo{}async function Ah(r,e,t){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Nh(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(dr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Ch();const Ph={url:Bu,storageKey:Vu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qa(r,e,t){return await t()}class Hr{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hr.nextInstanceID,Hr.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ph),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Th({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ho(n.fetch),this.lock=n.lock||Qa,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:qe()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=Ah:this.lock=Qa,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Fr()?this.storage=Eh:(this.memoryStorage={},this.storage=Xa(this.memoryStorage)):(this.memoryStorage={},this.storage=Xa(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${oo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=nh(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),qe()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:a}=await this._getSessionFromURL(t,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ju(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return q(t)?{error:t}:{error:new co("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{const a=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:ht}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,s,n;try{let a;if("email"in e){const{email:u,password:h,options:m}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await lr(this.storage,this.storageKey)),a=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:u,password:h,data:(t=m?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:f,code_challenge_method:y},xform:ht})}else if("phone"in e){const{phone:u,password:h,options:m}=e;a=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=m?.data)!==null&&s!==void 0?s:{},channel:(n=m?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ht})}else throw new As("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:i,options:o}=e;t=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ya})}else if("phone"in e){const{phone:a,password:i,options:o}=e;t=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ya})}else throw new As("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ns}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,s,n,a,i,o,l,d,u,h,m,f;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:b,wallet:S,statement:k,options:_}=e;let C;if(qe())if(typeof S=="object")C=S;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))C=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const $=new URL((t=_?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in C&&C.signIn){const D=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),k?{statement:k}:null));let R;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")R=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)R=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)y=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),w=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${$.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(n=(s=_?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((i=_?.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(u=_?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const D=await C.signMessage(new TextEncoder().encode(y),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=D}}try{const{data:b,error:S}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:th(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ht});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ns}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if(q(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const t=await Rs(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/");try{const{data:a,error:i}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:ht});if(await Os(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ns}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:n??null}),error:i})}catch(a){if(q(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:s,token:n,access_token:a,nonce:i}=e,o=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:ht}),{data:l,error:d}=o;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ns}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,a,i;try{if("email"in e){const{email:o,options:l}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await lr(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l?.data)!==null&&t!==void 0?t:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:d,error:u}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(i=l?.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new As("You must provide either an email or phone number.")}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,s;try{let n,a;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:ht});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,d=i.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await lr(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:xh})}catch(a){if(q(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new xt;const{error:n}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:a}=e,{error:i}=await K(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:s,type:n,options:a}=e,{data:i,error:o}=await K(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:i?.message_id},error:o}}throw new As("You must provide either an email or phone number and a type")}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<pn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jt}):await this._useSession(async t=>{var s,n,a;const{data:i,error:o}=t;if(o)throw o;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0,xform:jt})})}catch(t){if(q(t))return Hu(t)&&(await this._removeSession(),await Os(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:a}=s;if(a)throw a;if(!n.session)throw new xt;const i=n.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await lr(this.storage,this.storageKey));const{data:d,error:u}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:jt});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xt;const t=Date.now()/1e3;let s=t,n=!0,a=null;const{payload:i}=vn(e.access_token);if(i.exp&&(s=i.exp,n=s<=t),n){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(q(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:i,error:o}=t;if(o)throw o;e=(s=i.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new xt;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!qe())throw new Ps("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ps(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Wa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ps("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wa("No code detected.");const{data:k,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:a,refresh_token:i,expires_in:o,expires_at:l,token_type:d}=e;if(!a||!o||!i||!d)throw new Ps("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let m=u+h;l&&(m=parseInt(l));const f=m-u;f*1e3<=fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const y=m-h;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,u);const{data:w,error:b}=await this._getUser(a);if(b)throw b;const S={provider_token:s,provider_refresh_token:n,access_token:a,expires_in:h,expires_at:m,refresh_token:i,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(s){if(q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Rs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:a}=t;if(a)return{error:a};const i=(s=n.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:o}=await this.admin.signOut(i,e);if(o&&!(Zu(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Os(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=sh(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:a},error:i}=t;if(i)throw i;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await lr(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(q(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(q(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:n}=await this._useSession(async a=>{var i,o,l,d,u;const{data:h,error:m}=a;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return qe()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(q(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:a,error:i}=t;if(i)throw i;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(q(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await oh(async n=>(n>0&&await ih(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ht})),(n,a)=>{const i=200*Math.pow(2,n);return a&&gn(a)&&Date.now()+i-s<fr})}catch(s){if(this._debug(t,"error",s),q(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),qe()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await Rs(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<pn;if(this._debug(t,`session has${n?"":" not"} expired with margin of ${pn}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),gn(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new sn;const{data:a,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!a.session)throw new xt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(n,"error",a),q(a)){const i={session:null,error:a};return gn(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){a.push(l)}});if(await Promise.all(i),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Os(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${fr}ms, refresh threshold is ${Rn} ticks`),n<=Rn&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,i]=await lr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});n.push(o.toString())}if(s?.queryParams){const a=new URLSearchParams(s.queryParams);n.push(a.toString())}return s?.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:a}=t;return a?{data:null,error:a}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(q(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:a,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await K(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(q(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(q(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:a}=t;return a?{data:null,error:a}:await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(q(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=e?.factors||[],n=s.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=s.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:s,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=vn(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(i=>i.kid===e);if(s||(s=this.jwks.keys.find(i=>i.kid===e),s&&this.jwks_cached_at+qu>Date.now()))return s;const{data:n,error:a}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!n.keys||n.keys.length===0)throw new Vr("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(i=>i.kid===e),!s)throw new Vr("No matching signing key found in JWKS");return s}async getClaims(e,t={keys:[]}){try{let s=e;if(!s){const{data:f,error:y}=await this.getSession();if(y||!f.session)return{data:null,error:y};s=f.session.access_token}const{header:n,payload:a,signature:i,raw:{header:o,payload:l}}=vn(s);if(mh(a.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:a,header:n,signature:i},error:null}}const d=ph(n.alg),u=await this.fetchJwk(n.kid,t),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,eh(`${o}.${l}`)))throw new Vr("Invalid JWT signature");return{data:{claims:a,header:n,signature:i},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}Hr.nextInstanceID=0;const Rh=Hr;class Oh extends Rh{constructor(e){super(e)}}var Ih=function(r,e,t,s){function n(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(s.next(u))}catch(h){i(h)}}function l(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):n(u.value).then(o,l)}d((s=s.apply(r,e||[])).next())})};class Lh{constructor(e,t,s){var n,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Uu(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Au,realtime:Ru,auth:Object.assign(Object.assign({},Pu),{storageKey:d}),global:Nu},h=Mu(s??{},u);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=$u(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Xd(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Bd(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Tu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ih(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,storageKey:a,flowType:i,lock:o,debug:l},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Oh({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,flowType:i,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $h=(r,e,t)=>new Lh(r,e,t),Dh="https://nqytxpvplhnnqfghxpqp.supabase.co",Uh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5xeXR4cHZwbGhubnFmZ2h4cHFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExNDAyNzIsImV4cCI6MjA2NjcxNjI3Mn0.7Fq-igiMW7iujPDy7fIyMr1oPapsdhz0BTMNdv_70xk",ue=$h(Dh,Uh),xr={signUp:async(r,e,t)=>{const{data:s,error:n}=await ue.auth.signUp({email:r,password:e,options:{data:{nickname:t}}});return{data:s,error:n}},signIn:async(r,e)=>{const{data:t,error:s}=await ue.auth.signInWithPassword({email:r,password:e});return{data:t,error:s}},signOut:async()=>{const{error:r}=await ue.auth.signOut();return{error:r}},getCurrentUser:()=>ue.auth.getUser(),onAuthStateChange:r=>ue.auth.onAuthStateChange(r)},Mh=Object.freeze(Object.defineProperty({__proto__:null,auth:xr,supabase:ue},Symbol.toStringTag,{value:"Module"}));function Bh({children:r}){const{setUser:e,setLoading:t}=Nr();return p.useEffect(()=>{(async()=>{t(!0);try{const{data:{user:a}}=await xr.getCurrentUser();if(a){const{data:i}=await ue.from("users").select("*").eq("id",a.id).single();if(i)e({id:i.id,email:i.email,nickname:i.nickname,bio:i.bio,avatar_url:i.avatar_url,points:i.points||0,trust_level:i.trust_level||0,created_at:i.created_at});else{const o={id:a.id,email:a.email,nickname:a.user_metadata?.nickname||"Anonymous",points:0,trust_level:0},{data:l}=await ue.from("users").insert(o).select().single();l&&e({id:l.id,email:l.email,nickname:l.nickname,bio:l.bio,avatar_url:l.avatar_url,points:l.points||0,trust_level:l.trust_level||0,created_at:l.created_at})}}}catch(a){console.error("Error getting initial session:",a)}finally{t(!1)}})();const{data:{subscription:n}}=xr.onAuthStateChange(async(a,i)=>{if(a==="SIGNED_IN"&&i?.user){const{data:o}=await ue.from("users").select("*").eq("id",i.user.id).single();o&&e({id:o.id,email:o.email,nickname:o.nickname,bio:o.bio,avatar_url:o.avatar_url,points:o.points||0,trust_level:o.trust_level||0,created_at:o.created_at})}else a==="SIGNED_OUT"&&e(null)});return()=>{n.unsubscribe()}},[e,t]),c.jsx(c.Fragment,{children:r})}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),po=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=p.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:n="",children:a,iconNode:i,...o},l)=>p.createElement("svg",{ref:l,...Fh,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:po("lucide",n),...o},[...i.map(([d,u])=>p.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(r,e)=>{const t=p.forwardRef(({className:s,...n},a)=>p.createElement(zh,{ref:a,iconNode:e,className:po(`lucide-${Vh(r)}`,s),...n}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=oe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=oe("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=oe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=oe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=oe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=oe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=oe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=oe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=oe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function G(...r){return Ol(Ii(r))}const nf=[{path:"/",icon:vo,label:"Home"},{path:"/map",icon:yo,label:"Map"},{path:"/profile",icon:Qn,label:"Profile"}];function af(){const r=Yt();return c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50 lg:hidden",children:c.jsx("div",{className:"flex justify-around items-center py-2 px-4 safe-area-inset-bottom max-w-md mx-auto",children:nf.map(({path:e,icon:t,label:s})=>{const n=r.pathname===e;return c.jsxs(Sn,{to:e,className:G("flex flex-col items-center justify-center p-2 rounded-lg transition-colors min-w-[60px] bg-background",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:[c.jsx(t,{size:24,className:G("mb-1",n&&"text-primary")}),c.jsx("span",{className:G("text-xs font-medium",n&&"text-primary"),children:s})]},e)})})})}function of(){return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsx("main",{className:"flex-1 overflow-auto pb-20 lg:pb-0",children:c.jsx("div",{className:"max-w-md mx-auto lg:max-w-4xl",children:c.jsx(Rc,{})})}),c.jsx("div",{className:"lg:hidden",children:c.jsx(af,{})})]})}function si(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function lf(...r){return e=>{let t=!1;const s=r.map(n=>{const a=si(n,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let n=0;n<s.length;n++){const a=s[n];typeof a=="function"?a():si(r[n],null)}}}}function bo(r){const e=df(r),t=p.forwardRef((s,n)=>{const{children:a,...i}=s,o=p.Children.toArray(a),l=o.find(hf);if(l){const d=l.props.children,u=o.map(h=>h===l?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return c.jsx(e,{...i,ref:n,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return c.jsx(e,{...i,ref:n,children:a})});return t.displayName=`${r}.Slot`,t}var cf=bo("Slot");function df(r){const e=p.forwardRef((t,s)=>{const{children:n,...a}=t;if(p.isValidElement(n)){const i=mf(n),o=ff(a,n.props);return n.type!==p.Fragment&&(o.ref=s?lf(s,i):i),p.cloneElement(n,o)}return p.Children.count(n)>1?p.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var uf=Symbol("radix.slottable");function hf(r){return p.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===uf}function ff(r,e){const t={...e};for(const s in e){const n=r[s],a=e[s];/^on[A-Z]/.test(s)?n&&a?t[s]=(...o)=>{const l=a(...o);return n(...o),l}:n&&(t[s]=n):s==="style"?t[s]={...n,...a}:s==="className"&&(t[s]=[n,a].filter(Boolean).join(" "))}return{...r,...t}}function mf(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}const ni=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,ai=Ii,ea=(r,e)=>t=>{var s;if(e?.variants==null)return ai(r,t?.class,t?.className);const{variants:n,defaultVariants:a}=e,i=Object.keys(n).map(d=>{const u=t?.[d],h=a?.[d];if(u===null)return null;const m=ni(u)||ni(h);return n[d][m]}),o=t&&Object.entries(t).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:m,...f}=u;return Object.entries(f).every(y=>{let[w,b]=y;return Array.isArray(b)?b.includes({...a,...o}[w]):{...a,...o}[w]===b})?[...d,h,m]:d},[]);return ai(r,i,l,t?.class,t?.className)},pf=ea("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ie=p.forwardRef(({className:r,variant:e,size:t,asChild:s=!1,...n},a)=>{const i=s?cf:"button";return c.jsx(i,{className:G(pf({variant:e,size:t,className:r})),ref:a,...n})});ie.displayName="Button";const Ue=p.forwardRef(({className:r,type:e,...t},s)=>c.jsx("input",{type:e,className:G("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...t}));Ue.displayName="Input";var ta="Avatar",[gf,Fp]=Ti(ta),[vf,wo]=gf(ta),xo=p.forwardRef((r,e)=>{const{__scopeAvatar:t,...s}=r,[n,a]=p.useState("idle");return c.jsx(vf,{scope:t,imageLoadingStatus:n,onImageLoadingStatusChange:a,children:c.jsx(Lt.span,{...s,ref:e})})});xo.displayName=ta;var _o="AvatarImage",ko=p.forwardRef((r,e)=>{const{__scopeAvatar:t,src:s,onLoadingStatusChange:n=()=>{},...a}=r,i=wo(_o,t),o=yf(s,a.referrerPolicy),l=St(d=>{n(d),i.onImageLoadingStatusChange(d)});return qn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?c.jsx(Lt.img,{...a,ref:e,src:s}):null});ko.displayName=_o;var So="AvatarFallback",jo=p.forwardRef((r,e)=>{const{__scopeAvatar:t,delayMs:s,...n}=r,a=wo(So,t),[i,o]=p.useState(s===void 0);return p.useEffect(()=>{if(s!==void 0){const l=window.setTimeout(()=>o(!0),s);return()=>window.clearTimeout(l)}},[s]),i&&a.imageLoadingStatus!=="loaded"?c.jsx(Lt.span,{...n,ref:e}):null});jo.displayName=So;function yf(r,e){const[t,s]=p.useState("idle");return qn(()=>{if(!r){s("error");return}let n=!0;const a=new window.Image,i=o=>()=>{n&&s(o)};return s("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=r,e&&(a.referrerPolicy=e),()=>{n=!1}},[r,e]),t}var To=xo,Eo=ko,Co=jo;const hs=p.forwardRef(({className:r,...e},t)=>c.jsx(To,{ref:t,className:G("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...e}));hs.displayName=To.displayName;const fs=p.forwardRef(({className:r,...e},t)=>c.jsx(Eo,{ref:t,className:G("aspect-square h-full w-full",r),...e}));fs.displayName=Eo.displayName;const ms=p.forwardRef(({className:r,...e},t)=>c.jsx(Co,{ref:t,className:G("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...e}));ms.displayName=Co.displayName;var ps=r=>r.type==="checkbox",Zt=r=>r instanceof Date,Pe=r=>r==null;const No=r=>typeof r=="object";var we=r=>!Pe(r)&&!Array.isArray(r)&&No(r)&&!Zt(r),bf=r=>we(r)&&r.target?ps(r.target)?r.target.checked:r.target.value:r,wf=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,xf=(r,e)=>r.has(wf(e)),_f=r=>{const e=r.constructor&&r.constructor.prototype;return we(e)&&e.hasOwnProperty("isPrototypeOf")},ra=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ce(r){let e;const t=Array.isArray(r),s=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(ra&&(r instanceof Blob||s))&&(t||we(r)))if(e=t?[]:{},!t&&!_f(r))e=r;else for(const n in r)r.hasOwnProperty(n)&&(e[n]=Ce(r[n]));else return r;return e}var nn=r=>/^\w*$/.test(r),be=r=>r===void 0,sa=r=>Array.isArray(r)?r.filter(Boolean):[],na=r=>sa(r.replace(/["|']|\]/g,"").split(/\.|\[/)),L=(r,e,t)=>{if(!e||!we(r))return t;const s=(nn(e)?[e]:na(e)).reduce((n,a)=>Pe(n)?n:n[a],r);return be(s)||s===r?be(r[e])?t:r[e]:s},rt=r=>typeof r=="boolean",ae=(r,e,t)=>{let s=-1;const n=nn(e)?[e]:na(e),a=n.length,i=a-1;for(;++s<a;){const o=n[s];let l=t;if(s!==i){const d=r[o];l=we(d)||Array.isArray(d)?d:isNaN(+n[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;r[o]=l,r=r[o]}};const ii={BLUR:"blur",FOCUS_OUT:"focusout"},Je={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ut={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kf=T.createContext(null);kf.displayName="HookFormContext";var Sf=(r,e,t,s=!0)=>{const n={defaultValues:e._defaultValues};for(const a in r)Object.defineProperty(n,a,{get:()=>{const i=a;return e._proxyFormState[i]!==Je.all&&(e._proxyFormState[i]=!s||Je.all),r[i]}});return n};const jf=typeof window<"u"?p.useLayoutEffect:p.useEffect;var st=r=>typeof r=="string",Tf=(r,e,t,s,n)=>st(r)?(s&&e.watch.add(r),L(t,r,n)):Array.isArray(r)?r.map(a=>(s&&e.watch.add(a),L(t,a))):(s&&(e.watchAll=!0),t),Ao=(r,e,t,s,n)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[s]:n||!0}}:{},zr=r=>Array.isArray(r)?r:[r],oi=()=>{let r=[];return{get observers(){return r},next:n=>{for(const a of r)a.next&&a.next(n)},subscribe:n=>(r.push(n),{unsubscribe:()=>{r=r.filter(a=>a!==n)}}),unsubscribe:()=>{r=[]}}},Dn=r=>Pe(r)||!No(r);function Tt(r,e,t=new WeakSet){if(Dn(r)||Dn(e))return r===e;if(Zt(r)&&Zt(e))return r.getTime()===e.getTime();const s=Object.keys(r),n=Object.keys(e);if(s.length!==n.length)return!1;if(t.has(r)||t.has(e))return!0;t.add(r),t.add(e);for(const a of s){const i=r[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=e[a];if(Zt(i)&&Zt(o)||we(i)&&we(o)||Array.isArray(i)&&Array.isArray(o)?!Tt(i,o,t):i!==o)return!1}}return!0}var Le=r=>we(r)&&!Object.keys(r).length,aa=r=>r.type==="file",Ke=r=>typeof r=="function",Vs=r=>{if(!ra)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Po=r=>r.type==="select-multiple",ia=r=>r.type==="radio",Ef=r=>ia(r)||ps(r),bn=r=>Vs(r)&&r.isConnected;function Cf(r,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)r=be(r)?s++:r[e[s++]];return r}function Nf(r){for(const e in r)if(r.hasOwnProperty(e)&&!be(r[e]))return!1;return!0}function ke(r,e){const t=Array.isArray(e)?e:nn(e)?[e]:na(e),s=t.length===1?r:Cf(r,t),n=t.length-1,a=t[n];return s&&delete s[a],n!==0&&(we(s)&&Le(s)||Array.isArray(s)&&Nf(s))&&ke(r,t.slice(0,-1)),r}var Ro=r=>{for(const e in r)if(Ke(r[e]))return!0;return!1};function Fs(r,e={}){const t=Array.isArray(r);if(we(r)||t)for(const s in r)Array.isArray(r[s])||we(r[s])&&!Ro(r[s])?(e[s]=Array.isArray(r[s])?[]:{},Fs(r[s],e[s])):Pe(r[s])||(e[s]=!0);return e}function Oo(r,e,t){const s=Array.isArray(r);if(we(r)||s)for(const n in r)Array.isArray(r[n])||we(r[n])&&!Ro(r[n])?be(e)||Dn(t[n])?t[n]=Array.isArray(r[n])?Fs(r[n],[]):{...Fs(r[n])}:Oo(r[n],Pe(e)?{}:e[n],t[n]):t[n]=!Tt(r[n],e[n]);return t}var Or=(r,e)=>Oo(r,e,Fs(e));const li={value:!1,isValid:!1},ci={value:!0,isValid:!0};var Io=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!be(r[0].attributes.value)?be(r[0].value)||r[0].value===""?ci:{value:r[0].value,isValid:!0}:ci:li}return li},Lo=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>be(r)?r:e?r===""?NaN:r&&+r:t&&st(r)?new Date(r):s?s(r):r;const di={isValid:!1,value:null};var $o=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,di):di;function ui(r){const e=r.ref;return aa(e)?e.files:ia(e)?$o(r.refs).value:Po(e)?[...e.selectedOptions].map(({value:t})=>t):ps(e)?Io(r.refs).value:Lo(be(e.value)?r.ref.value:e.value,r)}var Af=(r,e,t,s)=>{const n={};for(const a of r){const i=L(e,a);i&&ae(n,a,i._f)}return{criteriaMode:t,names:[...r],fields:n,shouldUseNativeValidation:s}},zs=r=>r instanceof RegExp,Ir=r=>be(r)?r:zs(r)?r.source:we(r)?zs(r.value)?r.value.source:r.value:r,hi=r=>({isOnSubmit:!r||r===Je.onSubmit,isOnBlur:r===Je.onBlur,isOnChange:r===Je.onChange,isOnAll:r===Je.all,isOnTouch:r===Je.onTouched});const fi="AsyncFunction";var Pf=r=>!!r&&!!r.validate&&!!(Ke(r.validate)&&r.validate.constructor.name===fi||we(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===fi)),Rf=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),mi=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(s=>r.startsWith(s)&&/^\.\w+/.test(r.slice(s.length))));const qr=(r,e,t,s)=>{for(const n of t||Object.keys(r)){const a=L(r,n);if(a){const{_f:i,...o}=a;if(i){if(i.refs&&i.refs[0]&&e(i.refs[0],n)&&!s)return!0;if(i.ref&&e(i.ref,i.name)&&!s)return!0;if(qr(o,e))break}else if(we(o)&&qr(o,e))break}}};function pi(r,e,t){const s=L(r,t);if(s||nn(t))return{error:s,name:t};const n=t.split(".");for(;n.length;){const a=n.join("."),i=L(e,a),o=L(r,a);if(i&&!Array.isArray(i)&&t!==a)return{name:t};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};n.pop()}return{name:t}}var Of=(r,e,t,s)=>{t(r);const{name:n,...a}=r;return Le(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(i=>e[i]===(!s||Je.all))},If=(r,e,t)=>!r||!e||r===e||zr(r).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),Lf=(r,e,t,s,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(e||r):(t?s.isOnBlur:n.isOnBlur)?!r:(t?s.isOnChange:n.isOnChange)?r:!0,$f=(r,e)=>!sa(L(r,e)).length&&ke(r,e),Df=(r,e,t)=>{const s=zr(L(r,t));return ae(s,"root",e[t]),ae(r,t,s),r},Is=r=>st(r);function gi(r,e,t="validate"){if(Is(r)||Array.isArray(r)&&r.every(Is)||rt(r)&&!r)return{type:t,message:Is(r)?r:"",ref:e}}var ur=r=>we(r)&&!zs(r)?r:{value:r,message:""},vi=async(r,e,t,s,n,a)=>{const{ref:i,refs:o,required:l,maxLength:d,minLength:u,min:h,max:m,pattern:f,validate:y,name:w,valueAsNumber:b,mount:S}=r._f,k=L(t,w);if(!S||e.has(w))return{};const _=o?o[0]:i,C=F=>{n&&_.reportValidity&&(_.setCustomValidity(rt(F)?"":F||""),_.reportValidity())},$={},D=ia(i),R=ps(i),fe=D||R,V=(b||aa(i))&&be(i.value)&&be(k)||Vs(i)&&i.value===""||k===""||Array.isArray(k)&&!k.length,Q=Ao.bind(null,w,s,$),me=(F,X,te,xe=ut.maxLength,ve=ut.minLength)=>{const _e=F?X:te;$[w]={type:F?xe:ve,message:_e,ref:i,...Q(F?xe:ve,_e)}};if(a?!Array.isArray(k)||!k.length:l&&(!fe&&(V||Pe(k))||rt(k)&&!k||R&&!Io(o).isValid||D&&!$o(o).isValid)){const{value:F,message:X}=Is(l)?{value:!!l,message:l}:ur(l);if(F&&($[w]={type:ut.required,message:X,ref:_,...Q(ut.required,X)},!s))return C(X),$}if(!V&&(!Pe(h)||!Pe(m))){let F,X;const te=ur(m),xe=ur(h);if(!Pe(k)&&!isNaN(k)){const ve=i.valueAsNumber||k&&+k;Pe(te.value)||(F=ve>te.value),Pe(xe.value)||(X=ve<xe.value)}else{const ve=i.valueAsDate||new Date(k),_e=Se=>new Date(new Date().toDateString()+" "+Se),Qe=i.type=="time",Z=i.type=="week";st(te.value)&&k&&(F=Qe?_e(k)>_e(te.value):Z?k>te.value:ve>new Date(te.value)),st(xe.value)&&k&&(X=Qe?_e(k)<_e(xe.value):Z?k<xe.value:ve<new Date(xe.value))}if((F||X)&&(me(!!F,te.message,xe.message,ut.max,ut.min),!s))return C($[w].message),$}if((d||u)&&!V&&(st(k)||a&&Array.isArray(k))){const F=ur(d),X=ur(u),te=!Pe(F.value)&&k.length>+F.value,xe=!Pe(X.value)&&k.length<+X.value;if((te||xe)&&(me(te,F.message,X.message),!s))return C($[w].message),$}if(f&&!V&&st(k)){const{value:F,message:X}=ur(f);if(zs(F)&&!k.match(F)&&($[w]={type:ut.pattern,message:X,ref:i,...Q(ut.pattern,X)},!s))return C(X),$}if(y){if(Ke(y)){const F=await y(k,t),X=gi(F,_);if(X&&($[w]={...X,...Q(ut.validate,X.message)},!s))return C(X.message),$}else if(we(y)){let F={};for(const X in y){if(!Le(F)&&!s)break;const te=gi(await y[X](k,t),_,X);te&&(F={...te,...Q(X,te.message)},C(te.message),s&&($[w]=F))}if(!Le(F)&&($[w]={ref:_,...F},!s))return $}}return C(!0),$};const Uf={mode:Je.onSubmit,reValidateMode:Je.onChange,shouldFocusError:!0};function Mf(r={}){let e={...Uf,...r},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ke(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let n=we(e.defaultValues)||we(e.values)?Ce(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Ce(n),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:oi(),state:oi()},f=e.criteriaMode===Je.all,y=g=>v=>{clearTimeout(d),d=setTimeout(g,v)},w=async g=>{if(!e.disabled&&(u.isValid||h.isValid||g)){const v=e.resolver?Le((await R()).errors):await V(s,!0);v!==t.isValid&&m.state.next({isValid:v})}},b=(g,v)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((g||Array.from(o.mount)).forEach(x=>{x&&(v?ae(t.validatingFields,x,v):ke(t.validatingFields,x))}),m.state.next({validatingFields:t.validatingFields,isValidating:!Le(t.validatingFields)}))},S=(g,v=[],x,A,N=!0,E=!0)=>{if(A&&x&&!e.disabled){if(i.action=!0,E&&Array.isArray(L(s,g))){const O=x(L(s,g),A.argA,A.argB);N&&ae(s,g,O)}if(E&&Array.isArray(L(t.errors,g))){const O=x(L(t.errors,g),A.argA,A.argB);N&&ae(t.errors,g,O),$f(t.errors,g)}if((u.touchedFields||h.touchedFields)&&E&&Array.isArray(L(t.touchedFields,g))){const O=x(L(t.touchedFields,g),A.argA,A.argB);N&&ae(t.touchedFields,g,O)}(u.dirtyFields||h.dirtyFields)&&(t.dirtyFields=Or(n,a)),m.state.next({name:g,isDirty:me(g,v),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ae(a,g,v)},k=(g,v)=>{ae(t.errors,g,v),m.state.next({errors:t.errors})},_=g=>{t.errors=g,m.state.next({errors:t.errors,isValid:!1})},C=(g,v,x,A)=>{const N=L(s,g);if(N){const E=L(a,g,be(x)?L(n,g):x);be(E)||A&&A.defaultChecked||v?ae(a,g,v?E:ui(N._f)):te(g,E),i.mount&&w()}},$=(g,v,x,A,N)=>{let E=!1,O=!1;const J={name:g};if(!e.disabled){if(!x||A){(u.isDirty||h.isDirty)&&(O=t.isDirty,t.isDirty=J.isDirty=me(),E=O!==J.isDirty);const se=Tt(L(n,g),v);O=!!L(t.dirtyFields,g),se?ke(t.dirtyFields,g):ae(t.dirtyFields,g,!0),J.dirtyFields=t.dirtyFields,E=E||(u.dirtyFields||h.dirtyFields)&&O!==!se}if(x){const se=L(t.touchedFields,g);se||(ae(t.touchedFields,g,x),J.touchedFields=t.touchedFields,E=E||(u.touchedFields||h.touchedFields)&&se!==x)}E&&N&&m.state.next(J)}return E?J:{}},D=(g,v,x,A)=>{const N=L(t.errors,g),E=(u.isValid||h.isValid)&&rt(v)&&t.isValid!==v;if(e.delayError&&x?(l=y(()=>k(g,x)),l(e.delayError)):(clearTimeout(d),l=null,x?ae(t.errors,g,x):ke(t.errors,g)),(x?!Tt(N,x):N)||!Le(A)||E){const O={...A,...E&&rt(v)?{isValid:v}:{},errors:t.errors,name:g};t={...t,...O},m.state.next(O)}},R=async g=>{b(g,!0);const v=await e.resolver(a,e.context,Af(g||o.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return b(g),v},fe=async g=>{const{errors:v}=await R(g);if(g)for(const x of g){const A=L(v,x);A?ae(t.errors,x,A):ke(t.errors,x)}else t.errors=v;return v},V=async(g,v,x={valid:!0})=>{for(const A in g){const N=g[A];if(N){const{_f:E,...O}=N;if(E){const J=o.array.has(E.name),se=N._f&&Pf(N._f);se&&u.validatingFields&&b([A],!0);const Oe=await vi(N,o.disabled,a,f,e.shouldUseNativeValidation&&!v,J);if(se&&u.validatingFields&&b([A]),Oe[E.name]&&(x.valid=!1,v))break;!v&&(L(Oe,E.name)?J?Df(t.errors,Oe,E.name):ae(t.errors,E.name,Oe[E.name]):ke(t.errors,E.name))}!Le(O)&&await V(O,v,x)}}return x.valid},Q=()=>{for(const g of o.unMount){const v=L(s,g);v&&(v._f.refs?v._f.refs.every(x=>!bn(x)):!bn(v._f.ref))&&ce(g)}o.unMount=new Set},me=(g,v)=>!e.disabled&&(g&&v&&ae(a,g,v),!Tt(Se(),n)),F=(g,v,x)=>Tf(g,o,{...i.mount?a:be(v)?n:st(g)?{[g]:v}:v},x,v),X=g=>sa(L(i.mount?a:n,g,e.shouldUnregister?L(n,g,[]):[])),te=(g,v,x={})=>{const A=L(s,g);let N=v;if(A){const E=A._f;E&&(!E.disabled&&ae(a,g,Lo(v,E)),N=Vs(E.ref)&&Pe(v)?"":v,Po(E.ref)?[...E.ref.options].forEach(O=>O.selected=N.includes(O.value)):E.refs?ps(E.ref)?E.refs.forEach(O=>{(!O.defaultChecked||!O.disabled)&&(Array.isArray(N)?O.checked=!!N.find(J=>J===O.value):O.checked=N===O.value||!!N)}):E.refs.forEach(O=>O.checked=O.value===N):aa(E.ref)?E.ref.value="":(E.ref.value=N,E.ref.type||m.state.next({name:g,values:Ce(a)})))}(x.shouldDirty||x.shouldTouch)&&$(g,N,x.shouldTouch,x.shouldDirty,!0),x.shouldValidate&&Z(g)},xe=(g,v,x)=>{for(const A in v){if(!v.hasOwnProperty(A))return;const N=v[A],E=g+"."+A,O=L(s,E);(o.array.has(g)||we(N)||O&&!O._f)&&!Zt(N)?xe(E,N,x):te(E,N,x)}},ve=(g,v,x={})=>{const A=L(s,g),N=o.array.has(g),E=Ce(v);ae(a,g,E),N?(m.array.next({name:g,values:Ce(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&x.shouldDirty&&m.state.next({name:g,dirtyFields:Or(n,a),isDirty:me(g,E)})):A&&!A._f&&!Pe(E)?xe(g,E,x):te(g,E,x),mi(g,o)&&m.state.next({...t}),m.state.next({name:i.mount?g:void 0,values:Ce(a)})},_e=async g=>{i.mount=!0;const v=g.target;let x=v.name,A=!0;const N=L(s,x),E=se=>{A=Number.isNaN(se)||Zt(se)&&isNaN(se.getTime())||Tt(se,L(a,x,se))},O=hi(e.mode),J=hi(e.reValidateMode);if(N){let se,Oe;const ct=v.type?ui(N._f):bf(g),et=g.type===ii.BLUR||g.type===ii.FOCUS_OUT,ks=!Rf(N._f)&&!e.resolver&&!L(t.errors,x)&&!N._f.deps||Lf(et,L(t.touchedFields,x),t.isSubmitted,J,O),Bt=mi(x,o,et);ae(a,x,ct),et?(N._f.onBlur&&N._f.onBlur(g),l&&l(0)):N._f.onChange&&N._f.onChange(g);const tt=$(x,ct,et),Ss=!Le(tt)||Bt;if(!et&&m.state.next({name:x,type:g.type,values:Ce(a)}),ks)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?et&&w():et||w()),Ss&&m.state.next({name:x,...Bt?{}:tt});if(!et&&Bt&&m.state.next({...t}),e.resolver){const{errors:dt}=await R([x]);if(E(ct),A){const dn=pi(t.errors,s,x),js=pi(dt,s,dn.name||x);se=js.error,x=js.name,Oe=Le(dt)}}else b([x],!0),se=(await vi(N,o.disabled,a,f,e.shouldUseNativeValidation))[x],b([x]),E(ct),A&&(se?Oe=!1:(u.isValid||h.isValid)&&(Oe=await V(s,!0)));A&&(N._f.deps&&Z(N._f.deps),D(x,Oe,se,tt))}},Qe=(g,v)=>{if(L(t.errors,v)&&g.focus)return g.focus(),1},Z=async(g,v={})=>{let x,A;const N=zr(g);if(e.resolver){const E=await fe(be(g)?g:N);x=Le(E),A=g?!N.some(O=>L(E,O)):x}else g?(A=(await Promise.all(N.map(async E=>{const O=L(s,E);return await V(O&&O._f?{[E]:O}:O)}))).every(Boolean),!(!A&&!t.isValid)&&w()):A=x=await V(s);return m.state.next({...!st(g)||(u.isValid||h.isValid)&&x!==t.isValid?{}:{name:g},...e.resolver||!g?{isValid:x}:{},errors:t.errors}),v.shouldFocus&&!A&&qr(s,Qe,g?N:o.mount),A},Se=g=>{const v={...i.mount?a:n};return be(g)?v:st(g)?L(v,g):g.map(x=>L(v,x))},Qt=(g,v)=>({invalid:!!L((v||t).errors,g),isDirty:!!L((v||t).dirtyFields,g),error:L((v||t).errors,g),isValidating:!!L(t.validatingFields,g),isTouched:!!L((v||t).touchedFields,g)}),ee=g=>{g&&zr(g).forEach(v=>ke(t.errors,v)),m.state.next({errors:g?t.errors:{}})},re=(g,v,x)=>{const A=(L(s,g,{_f:{}})._f||{}).ref,N=L(t.errors,g)||{},{ref:E,message:O,type:J,...se}=N;ae(t.errors,g,{...se,...v,ref:A}),m.state.next({name:g,errors:t.errors,isValid:!1}),x&&x.shouldFocus&&A&&A.focus&&A.focus()},he=(g,v)=>Ke(g)?m.state.subscribe({next:x=>g(F(void 0,v),x)}):F(g,v,!0),Ee=g=>m.state.subscribe({next:v=>{If(g.name,v.name,g.exact)&&Of(v,g.formState||u,cn,g.reRenderRoot)&&g.callback({values:{...a},...t,...v})}}).unsubscribe,gt=g=>(i.mount=!0,h={...h,...g.formState},Ee({...g,formState:h})),ce=(g,v={})=>{for(const x of g?zr(g):o.mount)o.mount.delete(x),o.array.delete(x),v.keepValue||(ke(s,x),ke(a,x)),!v.keepError&&ke(t.errors,x),!v.keepDirty&&ke(t.dirtyFields,x),!v.keepTouched&&ke(t.touchedFields,x),!v.keepIsValidating&&ke(t.validatingFields,x),!e.shouldUnregister&&!v.keepDefaultValue&&ke(n,x);m.state.next({values:Ce(a)}),m.state.next({...t,...v.keepDirty?{isDirty:me()}:{}}),!v.keepIsValid&&w()},er=({disabled:g,name:v})=>{(rt(g)&&i.mount||g||o.disabled.has(v))&&(g?o.disabled.add(v):o.disabled.delete(v))},lt=(g,v={})=>{let x=L(s,g);const A=rt(v.disabled)||rt(e.disabled);return ae(s,g,{...x||{},_f:{...x&&x._f?x._f:{ref:{name:g}},name:g,mount:!0,...v}}),o.mount.add(g),x?er({disabled:rt(v.disabled)?v.disabled:e.disabled,name:g}):C(g,!0,v.value),{...A?{disabled:v.disabled||e.disabled}:{},...e.progressive?{required:!!v.required,min:Ir(v.min),max:Ir(v.max),minLength:Ir(v.minLength),maxLength:Ir(v.maxLength),pattern:Ir(v.pattern)}:{},name:g,onChange:_e,onBlur:_e,ref:N=>{if(N){lt(g,v),x=L(s,g);const E=be(N.value)&&N.querySelectorAll&&N.querySelectorAll("input,select,textarea")[0]||N,O=Ef(E),J=x._f.refs||[];if(O?J.find(se=>se===E):E===x._f.ref)return;ae(s,g,{_f:{...x._f,...O?{refs:[...J.filter(bn),E,...Array.isArray(L(n,g))?[{}]:[]],ref:{type:E.type,name:g}}:{ref:E}}}),C(g,!1,void 0,E)}else x=L(s,g,{}),x._f&&(x._f.mount=!1),(e.shouldUnregister||v.shouldUnregister)&&!(xf(o.array,g)&&i.action)&&o.unMount.add(g)}}},vt=()=>e.shouldFocusError&&qr(s,Qe,o.mount),Mt=g=>{rt(g)&&(m.state.next({disabled:g}),qr(s,(v,x)=>{const A=L(s,x);A&&(v.disabled=A._f.disabled||g,Array.isArray(A._f.refs)&&A._f.refs.forEach(N=>{N.disabled=A._f.disabled||g}))},0,!1))},tr=(g,v)=>async x=>{let A;x&&(x.preventDefault&&x.preventDefault(),x.persist&&x.persist());let N=Ce(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:E,values:O}=await R();t.errors=E,N=Ce(O)}else await V(s);if(o.disabled.size)for(const E of o.disabled)ke(N,E);if(ke(t.errors,"root"),Le(t.errors)){m.state.next({errors:{}});try{await g(N,x)}catch(E){A=E}}else v&&await v({...t.errors},x),vt(),setTimeout(vt);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Le(t.errors)&&!A,submitCount:t.submitCount+1,errors:t.errors}),A)throw A},vs=(g,v={})=>{L(s,g)&&(be(v.defaultValue)?ve(g,Ce(L(n,g))):(ve(g,v.defaultValue),ae(n,g,Ce(v.defaultValue))),v.keepTouched||ke(t.touchedFields,g),v.keepDirty||(ke(t.dirtyFields,g),t.isDirty=v.defaultValue?me(g,Ce(L(n,g))):me()),v.keepError||(ke(t.errors,g),u.isValid&&w()),m.state.next({...t}))},ys=(g,v={})=>{const x=g?Ce(g):n,A=Ce(x),N=Le(g),E=N?n:A;if(v.keepDefaultValues||(n=x),!v.keepValues){if(v.keepDirtyValues){const O=new Set([...o.mount,...Object.keys(Or(n,a))]);for(const J of Array.from(O))L(t.dirtyFields,J)?ae(E,J,L(a,J)):ve(J,L(E,J))}else{if(ra&&be(g))for(const O of o.mount){const J=L(s,O);if(J&&J._f){const se=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(Vs(se)){const Oe=se.closest("form");if(Oe){Oe.reset();break}}}}for(const O of o.mount){const J=L(E,O,L(n,O));be(J)||(ae(E,O,J),ve(O,L(E,O)))}}a=Ce(E),m.array.next({values:{...E}}),m.state.next({values:{...E}})}o={mount:v.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!v.keepIsValid||!!v.keepDirtyValues,i.watch=!!e.shouldUnregister,m.state.next({submitCount:v.keepSubmitCount?t.submitCount:0,isDirty:N?!1:v.keepDirty?t.isDirty:!!(v.keepDefaultValues&&!Tt(g,n)),isSubmitted:v.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:N?{}:v.keepDirtyValues?v.keepDefaultValues&&a?Or(n,a):t.dirtyFields:v.keepDefaultValues&&g?Or(n,g):v.keepDirty?t.dirtyFields:{},touchedFields:v.keepTouched?t.touchedFields:{},errors:v.keepErrors?t.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},bs=(g,v)=>ys(Ke(g)?g(a):g,v),ws=(g,v={})=>{const x=L(s,g),A=x&&x._f;if(A){const N=A.refs?A.refs[0]:A.ref;N.focus&&(N.focus(),v.shouldSelect&&Ke(N.select)&&N.select())}},cn=g=>{t={...t,...g}},_s={control:{register:lt,unregister:ce,getFieldState:Qt,handleSubmit:tr,setError:re,_subscribe:Ee,_runSchema:R,_focusError:vt,_getWatch:F,_getDirty:me,_setValid:w,_setFieldArray:S,_setDisabledField:er,_setErrors:_,_getFieldArray:X,_reset:ys,_resetDefaultValues:()=>Ke(e.defaultValues)&&e.defaultValues().then(g=>{bs(g,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:Q,_disableForm:Mt,_subjects:m,_proxyFormState:u,get _fields(){return s},get _formValues(){return a},get _state(){return i},set _state(g){i=g},get _defaultValues(){return n},get _names(){return o},set _names(g){o=g},get _formState(){return t},get _options(){return e},set _options(g){e={...e,...g}}},subscribe:gt,trigger:Z,register:lt,handleSubmit:tr,watch:he,setValue:ve,getValues:Se,reset:bs,resetField:vs,clearErrors:ee,unregister:ce,setError:re,setFocus:ws,getFieldState:Qt};return{..._s,formControl:_s}}function yi(r={}){const e=T.useRef(void 0),t=T.useRef(void 0),[s,n]=T.useState({isDirty:!1,isValidating:!1,isLoading:Ke(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:Ke(r.defaultValues)?void 0:r.defaultValues});if(!e.current)if(r.formControl)e.current={...r.formControl,formState:s},r.defaultValues&&!Ke(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions);else{const{formControl:i,...o}=Mf(r);e.current={...o,formState:s}}const a=e.current.control;return a._options=r,jf(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0});return n(o=>({...o,isReady:!0})),a._formState.isReady=!0,i},[a]),T.useEffect(()=>a._disableForm(r.disabled),[a,r.disabled]),T.useEffect(()=>{r.mode&&(a._options.mode=r.mode),r.reValidateMode&&(a._options.reValidateMode=r.reValidateMode)},[a,r.mode,r.reValidateMode]),T.useEffect(()=>{r.errors&&(a._setErrors(r.errors),a._focusError())},[a,r.errors]),T.useEffect(()=>{r.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,r.shouldUnregister]),T.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==s.isDirty&&a._subjects.state.next({isDirty:i})}},[a,s.isDirty]),T.useEffect(()=>{r.values&&!Tt(r.values,t.current)?(a._reset(r.values,a._options.resetOptions),t.current=r.values,n(i=>({...i}))):a._resetDefaultValues()},[a,r.values]),T.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=Sf(s,a),e.current}const bi=(r,e,t)=>{if(r&&"reportValidity"in r){const s=L(t,e);r.setCustomValidity(s&&s.message||""),r.reportValidity()}},Do=(r,e)=>{for(const t in e.fields){const s=e.fields[t];s&&s.ref&&"reportValidity"in s.ref?bi(s.ref,t,r):s.refs&&s.refs.forEach(n=>bi(n,t,r))}},Bf=(r,e)=>{e.shouldUseNativeValidation&&Do(r,e);const t={};for(const s in r){const n=L(e.fields,s),a=Object.assign(r[s]||{},{ref:n&&n.ref});if(Vf(e.names||Object.keys(r),s)){const i=Object.assign({},L(t,s));ae(i,"root",a),ae(t,s,i)}else ae(t,s,a)}return t},Vf=(r,e)=>r.some(t=>t.startsWith(e+"."));var Ff=function(r,e){for(var t={};r.length;){var s=r[0],n=s.code,a=s.message,i=s.path.join(".");if(!t[i])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];t[i]={message:o.message,type:o.code}}else t[i]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return r.push(h)})}),e){var l=t[i].types,d=l&&l[s.code];t[i]=Ao(i,e,t,n,d?[].concat(d,s.message):s.message)}r.shift()}return t},wi=function(r,e,t){return t===void 0&&(t={}),function(s,n,a){try{return Promise.resolve(function(i,o){try{var l=Promise.resolve(r[t.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(d){return a.shouldUseNativeValidation&&Do({},a),{errors:{},values:t.raw?s:d}})}catch(d){return o(d)}return l&&l.then?l.then(void 0,o):l}(0,function(i){if(function(o){return Array.isArray(o?.errors)}(i))return{values:{},errors:Bf(Ff(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}},Y;(function(r){r.assertEqual=n=>n;function e(n){}r.assertIs=e;function t(n){throw new Error}r.assertNever=t,r.arrayToEnum=n=>{const a={};for(const i of n)a[i]=i;return a},r.getValidEnumValues=n=>{const a=r.objectKeys(n).filter(o=>typeof n[n[o]]!="number"),i={};for(const o of a)i[o]=n[o];return r.objectValues(i)},r.objectValues=n=>r.objectKeys(n).map(function(a){return n[a]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.push(i);return a},r.find=(n,a)=>{for(const i of n)if(a(i))return i},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}r.joinValues=s,r.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(Y||(Y={}));var Un;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Un||(Un={}));const I=Y.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Et=r=>{switch(typeof r){case"undefined":return I.undefined;case"string":return I.string;case"number":return isNaN(r)?I.nan:I.number;case"boolean":return I.boolean;case"function":return I.function;case"bigint":return I.bigint;case"symbol":return I.symbol;case"object":return Array.isArray(r)?I.array:r===null?I.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?I.promise:typeof Map<"u"&&r instanceof Map?I.map:typeof Set<"u"&&r instanceof Set?I.set:typeof Date<"u"&&r instanceof Date?I.date:I.object;default:return I.unknown}},j=Y.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),zf=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class De extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(a){return a.message},s={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)s._errors.push(t(i));else{let o=s,l=0;for(;l<i.path.length;){const d=i.path[l];l===i.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(i))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return n(this),s}static assert(e){if(!(e instanceof De))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Y.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}De.create=r=>new De(r);const _r=(r,e)=>{let t;switch(r.code){case j.invalid_type:r.received===I.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case j.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Y.jsonStringifyReplacer)}`;break;case j.unrecognized_keys:t=`Unrecognized key(s) in object: ${Y.joinValues(r.keys,", ")}`;break;case j.invalid_union:t="Invalid input";break;case j.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Y.joinValues(r.options)}`;break;case j.invalid_enum_value:t=`Invalid enum value. Expected ${Y.joinValues(r.options)}, received '${r.received}'`;break;case j.invalid_arguments:t="Invalid function arguments";break;case j.invalid_return_type:t="Invalid function return type";break;case j.invalid_date:t="Invalid date";break;case j.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Y.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case j.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case j.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case j.custom:t="Invalid input";break;case j.invalid_intersection_types:t="Intersection results could not be merged";break;case j.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case j.not_finite:t="Number must be finite";break;default:t=e.defaultError,Y.assertNever(r)}return{message:t}};let Uo=_r;function qf(r){Uo=r}function qs(){return Uo}const Ws=r=>{const{data:e,path:t,errorMaps:s,issueData:n}=r,a=[...t,...n.path||[]],i={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let o="";const l=s.filter(d=>!!d).slice().reverse();for(const d of l)o=d(i,{data:e,defaultError:o}).message;return{...n,path:a,message:o}},Wf=[];function P(r,e){const t=qs(),s=Ws({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===_r?void 0:_r].filter(n=>!!n)});r.common.issues.push(s)}class Ae{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const n of t){if(n.status==="aborted")return B;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const n of t){const a=await n.key,i=await n.value;s.push({key:a,value:i})}return Ae.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const n of t){const{key:a,value:i}=n;if(a.status==="aborted"||i.status==="aborted")return B;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(s[a.value]=i.value)}return{status:e.value,value:s}}}const B=Object.freeze({status:"aborted"}),pr=r=>({status:"dirty",value:r}),Re=r=>({status:"valid",value:r}),Mn=r=>r.status==="aborted",Bn=r=>r.status==="dirty",Gr=r=>r.status==="valid",Yr=r=>typeof Promise<"u"&&r instanceof Promise;function Zs(r,e,t,s){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(r)}function Mo(r,e,t,s,n){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var U;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(U||(U={}));var Dr,Ur;class at{constructor(e,t,s,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xi=(r,e)=>{if(Gr(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new De(r.common.issues);return this._error=t,this._error}}};function W(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:n}=r;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,o)=>{var l,d;const{message:u}=r;return i.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??s)!==null&&l!==void 0?l:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(d=u??t)!==null&&d!==void 0?d:o.defaultError}},description:n}}class H{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Et(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Et(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ae,ctx:{common:e.parent.common,data:e.data,parsedType:Et(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Yr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const n={common:{issues:[],async:(s=t?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Et(e)},a=this._parseSync({data:e,path:n.path,parent:n});return xi(n,a)}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Et(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(Yr(n)?n:Promise.resolve(n));return xi(s,a)}refine(e,t){const s=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,a)=>{const i=e(n),o=()=>a.addIssue({code:j.custom,...s(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof t=="function"?t(s,n):t),!1))}_refinement(e){return new Xe({schema:this,typeName:M.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return nt.create(this,this._def)}nullable(){return It.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ye.create(this,this._def)}promise(){return Sr.create(this,this._def)}or(e){return ts.create([this,e],this._def)}and(e){return rs.create(this,e,this._def)}transform(e){return new Xe({...W(this._def),schema:this,typeName:M.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new os({...W(this._def),innerType:this,defaultValue:t,typeName:M.ZodDefault})}brand(){return new oa({typeName:M.ZodBranded,type:this,...W(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new ls({...W(this._def),innerType:this,catchValue:t,typeName:M.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return gs.create(this,e)}readonly(){return cs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Zf=/^c[^\s-]{8,}$/i,Hf=/^[0-9a-z]+$/,Jf=/^[0-9A-HJKMNP-TV-Z]{26}$/,Kf=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Gf=/^[a-z0-9_-]{21}$/i,Yf=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xf=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Qf="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wn;const em=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tm=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,rm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bo="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sm=new RegExp(`^${Bo}$`);function Vo(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function nm(r){return new RegExp(`^${Vo(r)}$`)}function Fo(r){let e=`${Bo}T${Vo(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function am(r,e){return!!((e==="v4"||!e)&&em.test(r)||(e==="v6"||!e)&&tm.test(r))}class Ge extends H{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==I.string){const a=this._getOrReturnCtx(e);return P(a,{code:j.invalid_type,expected:I.string,received:a.parsedType}),B}const s=new Ae;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),P(n,{code:j.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),P(n,{code:j.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?P(n,{code:j.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&P(n,{code:j.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")Xf.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"email",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")wn||(wn=new RegExp(Qf,"u")),wn.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"emoji",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")Kf.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"uuid",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")Gf.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"nanoid",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Zf.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"cuid",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")Hf.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"cuid2",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")Jf.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"ulid",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),P(n,{validation:"url",code:j.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"regex",code:j.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),P(n,{code:j.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),P(n,{code:j.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),P(n,{code:j.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Fo(a).test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{code:j.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?sm.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{code:j.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?nm(a).test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{code:j.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?Yf.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"duration",code:j.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?am(e.data,a.version)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"ip",code:j.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?rm.test(e.data)||(n=this._getOrReturnCtx(e,n),P(n,{validation:"base64",code:j.invalid_string,message:a.message}),s.dirty()):Y.assertNever(a);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(n=>e.test(n),{validation:t,code:j.invalid_string,...U.errToObj(s)})}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...U.errToObj(e)})}url(e){return this._addCheck({kind:"url",...U.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...U.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...U.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...U.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...U.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...U.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...U.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...U.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...U.errToObj(e)})}datetime(e){var t,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,...U.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...U.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...U.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...U.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...U.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...U.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...U.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...U.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...U.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...U.errToObj(t)})}nonempty(e){return this.min(1,U.errToObj(e))}trim(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ge.create=r=>{var e;return new Ge({checks:[],typeName:M.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...W(r)})};function im(r,e){const t=(r.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=t>s?t:s,a=parseInt(r.toFixed(n).replace(".","")),i=parseInt(e.toFixed(n).replace(".",""));return a%i/Math.pow(10,n)}class Pt extends H{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==I.number){const a=this._getOrReturnCtx(e);return P(a,{code:j.invalid_type,expected:I.number,received:a.parsedType}),B}let s;const n=new Ae;for(const a of this._def.checks)a.kind==="int"?Y.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:j.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:j.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:j.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?im(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),P(s,{code:j.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:j.not_finite,message:a.message}),n.dirty()):Y.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,U.toString(t))}gt(e,t){return this.setLimit("min",e,!1,U.toString(t))}lte(e,t){return this.setLimit("max",e,!0,U.toString(t))}lt(e,t){return this.setLimit("max",e,!1,U.toString(t))}setLimit(e,t,s,n){return new Pt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:U.toString(n)}]})}_addCheck(e){return new Pt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:U.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:U.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:U.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:U.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:U.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Y.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Pt.create=r=>new Pt({checks:[],typeName:M.ZodNumber,coerce:r?.coerce||!1,...W(r)});class Rt extends H{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==I.bigint){const a=this._getOrReturnCtx(e);return P(a,{code:j.invalid_type,expected:I.bigint,received:a.parsedType}),B}let s;const n=new Ae;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:j.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:j.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),P(s,{code:j.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):Y.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,U.toString(t))}gt(e,t){return this.setLimit("min",e,!1,U.toString(t))}lte(e,t){return this.setLimit("max",e,!0,U.toString(t))}lt(e,t){return this.setLimit("max",e,!1,U.toString(t))}setLimit(e,t,s,n){return new Rt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:U.toString(n)}]})}_addCheck(e){return new Rt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:U.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:U.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Rt.create=r=>{var e;return new Rt({checks:[],typeName:M.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...W(r)})};class Xr extends H{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==I.boolean){const s=this._getOrReturnCtx(e);return P(s,{code:j.invalid_type,expected:I.boolean,received:s.parsedType}),B}return Re(e.data)}}Xr.create=r=>new Xr({typeName:M.ZodBoolean,coerce:r?.coerce||!1,...W(r)});class Kt extends H{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==I.date){const a=this._getOrReturnCtx(e);return P(a,{code:j.invalid_type,expected:I.date,received:a.parsedType}),B}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return P(a,{code:j.invalid_date}),B}const s=new Ae;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),P(n,{code:j.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),P(n,{code:j.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):Y.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:U.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:U.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Kt.create=r=>new Kt({checks:[],coerce:r?.coerce||!1,typeName:M.ZodDate,...W(r)});class Hs extends H{_parse(e){if(this._getType(e)!==I.symbol){const s=this._getOrReturnCtx(e);return P(s,{code:j.invalid_type,expected:I.symbol,received:s.parsedType}),B}return Re(e.data)}}Hs.create=r=>new Hs({typeName:M.ZodSymbol,...W(r)});class Qr extends H{_parse(e){if(this._getType(e)!==I.undefined){const s=this._getOrReturnCtx(e);return P(s,{code:j.invalid_type,expected:I.undefined,received:s.parsedType}),B}return Re(e.data)}}Qr.create=r=>new Qr({typeName:M.ZodUndefined,...W(r)});class es extends H{_parse(e){if(this._getType(e)!==I.null){const s=this._getOrReturnCtx(e);return P(s,{code:j.invalid_type,expected:I.null,received:s.parsedType}),B}return Re(e.data)}}es.create=r=>new es({typeName:M.ZodNull,...W(r)});class kr extends H{constructor(){super(...arguments),this._any=!0}_parse(e){return Re(e.data)}}kr.create=r=>new kr({typeName:M.ZodAny,...W(r)});class Jt extends H{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Re(e.data)}}Jt.create=r=>new Jt({typeName:M.ZodUnknown,...W(r)});class pt extends H{_parse(e){const t=this._getOrReturnCtx(e);return P(t,{code:j.invalid_type,expected:I.never,received:t.parsedType}),B}}pt.create=r=>new pt({typeName:M.ZodNever,...W(r)});class Js extends H{_parse(e){if(this._getType(e)!==I.undefined){const s=this._getOrReturnCtx(e);return P(s,{code:j.invalid_type,expected:I.void,received:s.parsedType}),B}return Re(e.data)}}Js.create=r=>new Js({typeName:M.ZodVoid,...W(r)});class Ye extends H{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),n=this._def;if(t.parsedType!==I.array)return P(t,{code:j.invalid_type,expected:I.array,received:t.parsedType}),B;if(n.exactLength!==null){const i=t.data.length>n.exactLength.value,o=t.data.length<n.exactLength.value;(i||o)&&(P(t,{code:i?j.too_big:j.too_small,minimum:o?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(P(t,{code:j.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(P(t,{code:j.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>n.type._parseAsync(new at(t,i,t.path,o)))).then(i=>Ae.mergeArray(s,i));const a=[...t.data].map((i,o)=>n.type._parseSync(new at(t,i,t.path,o)));return Ae.mergeArray(s,a)}get element(){return this._def.type}min(e,t){return new Ye({...this._def,minLength:{value:e,message:U.toString(t)}})}max(e,t){return new Ye({...this._def,maxLength:{value:e,message:U.toString(t)}})}length(e,t){return new Ye({...this._def,exactLength:{value:e,message:U.toString(t)}})}nonempty(e){return this.min(1,e)}}Ye.create=(r,e)=>new Ye({type:r,minLength:null,maxLength:null,exactLength:null,typeName:M.ZodArray,...W(e)});function mr(r){if(r instanceof ge){const e={};for(const t in r.shape){const s=r.shape[t];e[t]=nt.create(mr(s))}return new ge({...r._def,shape:()=>e})}else return r instanceof Ye?new Ye({...r._def,type:mr(r.element)}):r instanceof nt?nt.create(mr(r.unwrap())):r instanceof It?It.create(mr(r.unwrap())):r instanceof it?it.create(r.items.map(e=>mr(e))):r}class ge extends H{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Y.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==I.object){const d=this._getOrReturnCtx(e);return P(d,{code:j.invalid_type,expected:I.object,received:d.parsedType}),B}const{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof pt&&this._def.unknownKeys==="strip"))for(const d in n.data)i.includes(d)||o.push(d);const l=[];for(const d of i){const u=a[d],h=n.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new at(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof pt){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")o.length>0&&(P(n,{code:j.unrecognized_keys,keys:o}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const h=n.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new at(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of l){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Ae.mergeObjectSync(s,d)):Ae.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return U.errToObj,new ge({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var n,a,i,o;const l=(i=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,t,s).message)!==null&&i!==void 0?i:s.defaultError;return t.code==="unrecognized_keys"?{message:(o=U.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new ge({...this._def,unknownKeys:"strip"})}passthrough(){return new ge({...this._def,unknownKeys:"passthrough"})}extend(e){return new ge({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ge({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:M.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ge({...this._def,catchall:e})}pick(e){const t={};return Y.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(t[s]=this.shape[s])}),new ge({...this._def,shape:()=>t})}omit(e){const t={};return Y.objectKeys(this.shape).forEach(s=>{e[s]||(t[s]=this.shape[s])}),new ge({...this._def,shape:()=>t})}deepPartial(){return mr(this)}partial(e){const t={};return Y.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?t[s]=n:t[s]=n.optional()}),new ge({...this._def,shape:()=>t})}required(e){const t={};return Y.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])t[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof nt;)a=a._def.innerType;t[s]=a}}),new ge({...this._def,shape:()=>t})}keyof(){return zo(Y.objectKeys(this.shape))}}ge.create=(r,e)=>new ge({shape:()=>r,unknownKeys:"strip",catchall:pt.create(),typeName:M.ZodObject,...W(e)});ge.strictCreate=(r,e)=>new ge({shape:()=>r,unknownKeys:"strict",catchall:pt.create(),typeName:M.ZodObject,...W(e)});ge.lazycreate=(r,e)=>new ge({shape:r,unknownKeys:"strip",catchall:pt.create(),typeName:M.ZodObject,...W(e)});class ts extends H{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function n(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new De(o.ctx.common.issues));return P(t,{code:j.invalid_union,unionErrors:i}),B}if(t.common.async)return Promise.all(s.map(async a=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(n);{let a;const i=[];for(const l of s){const d={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(l=>new De(l));return P(t,{code:j.invalid_union,unionErrors:o}),B}}get options(){return this._def.options}}ts.create=(r,e)=>new ts({options:r,typeName:M.ZodUnion,...W(e)});const ft=r=>r instanceof ns?ft(r.schema):r instanceof Xe?ft(r.innerType()):r instanceof as?[r.value]:r instanceof Ot?r.options:r instanceof is?Y.objectValues(r.enum):r instanceof os?ft(r._def.innerType):r instanceof Qr?[void 0]:r instanceof es?[null]:r instanceof nt?[void 0,...ft(r.unwrap())]:r instanceof It?[null,...ft(r.unwrap())]:r instanceof oa||r instanceof cs?ft(r.unwrap()):r instanceof ls?ft(r._def.innerType):[];class an extends H{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==I.object)return P(t,{code:j.invalid_type,expected:I.object,received:t.parsedType}),B;const s=this.discriminator,n=t.data[s],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(P(t,{code:j.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),B)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const n=new Map;for(const a of t){const i=ft(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(n.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);n.set(o,a)}}return new an({typeName:M.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...W(s)})}}function Vn(r,e){const t=Et(r),s=Et(e);if(r===e)return{valid:!0,data:r};if(t===I.object&&s===I.object){const n=Y.objectKeys(e),a=Y.objectKeys(r).filter(o=>n.indexOf(o)!==-1),i={...r,...e};for(const o of a){const l=Vn(r[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(t===I.array&&s===I.array){if(r.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<r.length;a++){const i=r[a],o=e[a],l=Vn(i,o);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return t===I.date&&s===I.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class rs extends H{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=(a,i)=>{if(Mn(a)||Mn(i))return B;const o=Vn(a.value,i.value);return o.valid?((Bn(a)||Bn(i))&&t.dirty(),{status:t.value,value:o.data}):(P(s,{code:j.invalid_intersection_types}),B)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,i])=>n(a,i)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}rs.create=(r,e,t)=>new rs({left:r,right:e,typeName:M.ZodIntersection,...W(t)});class it extends H{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==I.array)return P(s,{code:j.invalid_type,expected:I.array,received:s.parsedType}),B;if(s.data.length<this._def.items.length)return P(s,{code:j.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B;!this._def.rest&&s.data.length>this._def.items.length&&(P(s,{code:j.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...s.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new at(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(a).then(i=>Ae.mergeArray(t,i)):Ae.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new it({...this._def,rest:e})}}it.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new it({items:r,typeName:M.ZodTuple,rest:null,...W(e)})};class ss extends H{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==I.object)return P(s,{code:j.invalid_type,expected:I.object,received:s.parsedType}),B;const n=[],a=this._def.keyType,i=this._def.valueType;for(const o in s.data)n.push({key:a._parse(new at(s,o,s.path,o)),value:i._parse(new at(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?Ae.mergeObjectAsync(t,n):Ae.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof H?new ss({keyType:e,valueType:t,typeName:M.ZodRecord,...W(s)}):new ss({keyType:Ge.create(),valueType:e,typeName:M.ZodRecord,...W(t)})}}class Ks extends H{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==I.map)return P(s,{code:j.invalid_type,expected:I.map,received:s.parsedType}),B;const n=this._def.keyType,a=this._def.valueType,i=[...s.data.entries()].map(([o,l],d)=>({key:n._parse(new at(s,o,s.path,[d,"key"])),value:a._parse(new at(s,l,s.path,[d,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const d=await l.key,u=await l.value;if(d.status==="aborted"||u.status==="aborted")return B;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(d.value,u.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of i){const d=l.key,u=l.value;if(d.status==="aborted"||u.status==="aborted")return B;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(d.value,u.value)}return{status:t.value,value:o}}}}Ks.create=(r,e,t)=>new Ks({valueType:e,keyType:r,typeName:M.ZodMap,...W(t)});class Gt extends H{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==I.set)return P(s,{code:j.invalid_type,expected:I.set,received:s.parsedType}),B;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(P(s,{code:j.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(P(s,{code:j.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const a=this._def.valueType;function i(l){const d=new Set;for(const u of l){if(u.status==="aborted")return B;u.status==="dirty"&&t.dirty(),d.add(u.value)}return{status:t.value,value:d}}const o=[...s.data.values()].map((l,d)=>a._parse(new at(s,l,s.path,d)));return s.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,t){return new Gt({...this._def,minSize:{value:e,message:U.toString(t)}})}max(e,t){return new Gt({...this._def,maxSize:{value:e,message:U.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Gt.create=(r,e)=>new Gt({valueType:r,minSize:null,maxSize:null,typeName:M.ZodSet,...W(e)});class gr extends H{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==I.function)return P(t,{code:j.invalid_type,expected:I.function,received:t.parsedType}),B;function s(o,l){return Ws({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,qs(),_r].filter(d=>!!d),issueData:{code:j.invalid_arguments,argumentsError:l}})}function n(o,l){return Ws({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,qs(),_r].filter(d=>!!d),issueData:{code:j.invalid_return_type,returnTypeError:l}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Sr){const o=this;return Re(async function(...l){const d=new De([]),u=await o._def.args.parseAsync(l,a).catch(f=>{throw d.addIssue(s(l,f)),d}),h=await Reflect.apply(i,this,u);return await o._def.returns._def.type.parseAsync(h,a).catch(f=>{throw d.addIssue(n(h,f)),d})})}else{const o=this;return Re(function(...l){const d=o._def.args.safeParse(l,a);if(!d.success)throw new De([s(l,d.error)]);const u=Reflect.apply(i,this,d.data),h=o._def.returns.safeParse(u,a);if(!h.success)throw new De([n(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new gr({...this._def,args:it.create(e).rest(Jt.create())})}returns(e){return new gr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new gr({args:e||it.create([]).rest(Jt.create()),returns:t||Jt.create(),typeName:M.ZodFunction,...W(s)})}}class ns extends H{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ns.create=(r,e)=>new ns({getter:r,typeName:M.ZodLazy,...W(e)});class as extends H{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return P(t,{received:t.data,code:j.invalid_literal,expected:this._def.value}),B}return{status:"valid",value:e.data}}get value(){return this._def.value}}as.create=(r,e)=>new as({value:r,typeName:M.ZodLiteral,...W(e)});function zo(r,e){return new Ot({values:r,typeName:M.ZodEnum,...W(e)})}class Ot extends H{constructor(){super(...arguments),Dr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return P(t,{expected:Y.joinValues(s),received:t.parsedType,code:j.invalid_type}),B}if(Zs(this,Dr)||Mo(this,Dr,new Set(this._def.values)),!Zs(this,Dr).has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return P(t,{received:t.data,code:j.invalid_enum_value,options:s}),B}return Re(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ot.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ot.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}Dr=new WeakMap;Ot.create=zo;class is extends H{constructor(){super(...arguments),Ur.set(this,void 0)}_parse(e){const t=Y.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==I.string&&s.parsedType!==I.number){const n=Y.objectValues(t);return P(s,{expected:Y.joinValues(n),received:s.parsedType,code:j.invalid_type}),B}if(Zs(this,Ur)||Mo(this,Ur,new Set(Y.getValidEnumValues(this._def.values))),!Zs(this,Ur).has(e.data)){const n=Y.objectValues(t);return P(s,{received:s.data,code:j.invalid_enum_value,options:n}),B}return Re(e.data)}get enum(){return this._def.values}}Ur=new WeakMap;is.create=(r,e)=>new is({values:r,typeName:M.ZodNativeEnum,...W(e)});class Sr extends H{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==I.promise&&t.common.async===!1)return P(t,{code:j.invalid_type,expected:I.promise,received:t.parsedType}),B;const s=t.parsedType===I.promise?t.data:Promise.resolve(t.data);return Re(s.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Sr.create=(r,e)=>new Sr({type:r,typeName:M.ZodPromise,...W(e)});class Xe extends H{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===M.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:i=>{P(s,i),i.fatal?t.abort():t.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const i=n.transform(s.data,a);if(s.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return B;const l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?B:l.status==="dirty"||t.value==="dirty"?pr(l.value):l});{if(t.value==="aborted")return B;const o=this._def.schema._parseSync({data:i,path:s.path,parent:s});return o.status==="aborted"?B:o.status==="dirty"||t.value==="dirty"?pr(o.value):o}}if(n.type==="refinement"){const i=o=>{const l=n.refinement(o,a);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?B:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?B:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(n.type==="transform")if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Gr(i))return i;const o=n.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>Gr(i)?Promise.resolve(n.transform(i.value,a)).then(o=>({status:t.value,value:o})):i);Y.assertNever(n)}}Xe.create=(r,e,t)=>new Xe({schema:r,typeName:M.ZodEffects,effect:e,...W(t)});Xe.createWithPreprocess=(r,e,t)=>new Xe({schema:e,effect:{type:"preprocess",transform:r},typeName:M.ZodEffects,...W(t)});class nt extends H{_parse(e){return this._getType(e)===I.undefined?Re(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nt.create=(r,e)=>new nt({innerType:r,typeName:M.ZodOptional,...W(e)});class It extends H{_parse(e){return this._getType(e)===I.null?Re(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}It.create=(r,e)=>new It({innerType:r,typeName:M.ZodNullable,...W(e)});class os extends H{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===I.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}os.create=(r,e)=>new os({innerType:r,typeName:M.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...W(e)});class ls extends H{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Yr(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new De(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new De(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}ls.create=(r,e)=>new ls({innerType:r,typeName:M.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...W(e)});class Gs extends H{_parse(e){if(this._getType(e)!==I.nan){const s=this._getOrReturnCtx(e);return P(s,{code:j.invalid_type,expected:I.nan,received:s.parsedType}),B}return{status:"valid",value:e.data}}}Gs.create=r=>new Gs({typeName:M.ZodNaN,...W(r)});const om=Symbol("zod_brand");class oa extends H{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class gs extends H{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?B:a.status==="dirty"?(t.dirty(),pr(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?B:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,t){return new gs({in:e,out:t,typeName:M.ZodPipeline})}}class cs extends H{_parse(e){const t=this._def.innerType._parse(e),s=n=>(Gr(n)&&(n.value=Object.freeze(n.value)),n);return Yr(t)?t.then(n=>s(n)):s(t)}unwrap(){return this._def.innerType}}cs.create=(r,e)=>new cs({innerType:r,typeName:M.ZodReadonly,...W(e)});function qo(r,e={},t){return r?kr.create().superRefine((s,n)=>{var a,i;if(!r(s)){const o=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,l=(i=(a=o.fatal)!==null&&a!==void 0?a:t)!==null&&i!==void 0?i:!0,d=typeof o=="string"?{message:o}:o;n.addIssue({code:"custom",...d,fatal:l})}}):kr.create()}const lm={object:ge.lazycreate};var M;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(M||(M={}));const cm=(r,e={message:`Input not instance of ${r.name}`})=>qo(t=>t instanceof r,e),Wo=Ge.create,Zo=Pt.create,dm=Gs.create,um=Rt.create,Ho=Xr.create,hm=Kt.create,fm=Hs.create,mm=Qr.create,pm=es.create,gm=kr.create,vm=Jt.create,ym=pt.create,bm=Js.create,wm=Ye.create,xm=ge.create,_m=ge.strictCreate,km=ts.create,Sm=an.create,jm=rs.create,Tm=it.create,Em=ss.create,Cm=Ks.create,Nm=Gt.create,Am=gr.create,Pm=ns.create,Rm=as.create,Om=Ot.create,Im=is.create,Lm=Sr.create,_i=Xe.create,$m=nt.create,Dm=It.create,Um=Xe.createWithPreprocess,Mm=gs.create,Bm=()=>Wo().optional(),Vm=()=>Zo().optional(),Fm=()=>Ho().optional(),zm={string:r=>Ge.create({...r,coerce:!0}),number:r=>Pt.create({...r,coerce:!0}),boolean:r=>Xr.create({...r,coerce:!0}),bigint:r=>Rt.create({...r,coerce:!0}),date:r=>Kt.create({...r,coerce:!0})},qm=B;var Ct=Object.freeze({__proto__:null,defaultErrorMap:_r,setErrorMap:qf,getErrorMap:qs,makeIssue:Ws,EMPTY_PATH:Wf,addIssueToContext:P,ParseStatus:Ae,INVALID:B,DIRTY:pr,OK:Re,isAborted:Mn,isDirty:Bn,isValid:Gr,isAsync:Yr,get util(){return Y},get objectUtil(){return Un},ZodParsedType:I,getParsedType:Et,ZodType:H,datetimeRegex:Fo,ZodString:Ge,ZodNumber:Pt,ZodBigInt:Rt,ZodBoolean:Xr,ZodDate:Kt,ZodSymbol:Hs,ZodUndefined:Qr,ZodNull:es,ZodAny:kr,ZodUnknown:Jt,ZodNever:pt,ZodVoid:Js,ZodArray:Ye,ZodObject:ge,ZodUnion:ts,ZodDiscriminatedUnion:an,ZodIntersection:rs,ZodTuple:it,ZodRecord:ss,ZodMap:Ks,ZodSet:Gt,ZodFunction:gr,ZodLazy:ns,ZodLiteral:as,ZodEnum:Ot,ZodNativeEnum:is,ZodPromise:Sr,ZodEffects:Xe,ZodTransformer:Xe,ZodOptional:nt,ZodNullable:It,ZodDefault:os,ZodCatch:ls,ZodNaN:Gs,BRAND:om,ZodBranded:oa,ZodPipeline:gs,ZodReadonly:cs,custom:qo,Schema:H,ZodSchema:H,late:lm,get ZodFirstPartyTypeKind(){return M},coerce:zm,any:gm,array:wm,bigint:um,boolean:Ho,date:hm,discriminatedUnion:Sm,effect:_i,enum:Om,function:Am,instanceof:cm,intersection:jm,lazy:Pm,literal:Rm,map:Cm,nan:dm,nativeEnum:Im,never:ym,null:pm,nullable:Dm,number:Zo,object:xm,oboolean:Fm,onumber:Vm,optional:$m,ostring:Bm,pipeline:Mm,preprocess:Um,promise:Lm,record:Em,set:Nm,strictObject:_m,string:Wo,symbol:fm,transformer:_i,tuple:Tm,undefined:mm,union:km,unknown:vm,void:bm,NEVER:qm,ZodIssueCode:j,quotelessJson:zf,ZodError:De});function Wm(r,e){if(r==null)return{};var t={},s=Object.keys(r),n,a;for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Zm=["color"],Hm=p.forwardRef(function(r,e){var t=r.color,s=t===void 0?"currentColor":t,n=Wm(r,Zm);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:e}),p.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))});const Jm=El,Km=jl,Jo=p.forwardRef(({className:r,...e},t)=>c.jsx(Ei,{ref:t,className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...e}));Jo.displayName=Ei.displayName;const Ko=p.forwardRef(({className:r,children:e,...t},s)=>c.jsxs(Km,{children:[c.jsx(Jo,{}),c.jsxs(Ci,{ref:s,className:G("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...t,children:[e,c.jsxs(Tl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Hm,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ko.displayName=Ci.displayName;const Go=({className:r,...e})=>c.jsx("div",{className:G("flex flex-col space-y-1.5 text-center sm:text-left",r),...e});Go.displayName="DialogHeader";const Yo=p.forwardRef(({className:r,...e},t)=>c.jsx(Ni,{ref:t,className:G("text-lg font-semibold leading-none tracking-tight",r),...e}));Yo.displayName=Ni.displayName;const Xo=p.forwardRef(({className:r,...e},t)=>c.jsx(Ai,{ref:t,className:G("text-sm text-muted-foreground",r),...e}));Xo.displayName=Ai.displayName;var Gm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ym=Gm.reduce((r,e)=>{const t=bo(`Primitive.${e}`),s=p.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:a})});return s.displayName=`Primitive.${e}`,{...r,[e]:s}},{}),Xm="Label",Qo=p.forwardRef((r,e)=>c.jsx(Ym.label,{...r,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(r.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Qo.displayName=Xm;var el=Qo;const Qm=ea("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qt=p.forwardRef(({className:r,...e},t)=>c.jsx(el,{ref:t,className:G(Qm(),r),...e}));qt.displayName=el.displayName;const tl=Cl,la=p.forwardRef(({className:r,...e},t)=>c.jsx(Pi,{ref:t,className:G("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...e}));la.displayName=Pi.displayName;const vr=p.forwardRef(({className:r,...e},t)=>c.jsx(Ri,{ref:t,className:G("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...e}));vr.displayName=Ri.displayName;const yr=p.forwardRef(({className:r,...e},t)=>c.jsx(Oi,{ref:t,className:G("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...e}));yr.displayName=Oi.displayName;const ep=Ct.object({email:Ct.string().email("Invalid email address"),password:Ct.string().min(6,"Password must be at least 6 characters")}),tp=Ct.object({email:Ct.string().email("Invalid email address"),password:Ct.string().min(6,"Password must be at least 6 characters"),confirmPassword:Ct.string(),nickname:Ct.string().min(2,"Nickname must be at least 2 characters")}).refine(r=>r.password===r.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ca({open:r,onOpenChange:e}){const[t,s]=p.useState("signin"),[n,a]=p.useState(!1),[i,o]=p.useState(!1),{setLoading:l}=Nr(),d=yi({resolver:wi(ep),defaultValues:{email:"",password:""}}),u=yi({resolver:wi(tp),defaultValues:{email:"",password:"",confirmPassword:"",nickname:""}}),h=async f=>{o(!0),l(!0);try{const{error:y}=await xr.signIn(f.email,f.password);if(y){le.error(y.message);return}le.success("Welcome back!"),e(!1),d.reset()}catch{le.error("An unexpected error occurred")}finally{o(!1),l(!1)}},m=async f=>{o(!0),l(!0);try{const{error:y}=await xr.signUp(f.email,f.password,f.nickname);if(y){le.error(y.message);return}le.success("Account created! Please check your email to verify your account."),e(!1),u.reset()}catch{le.error("An unexpected error occurred")}finally{o(!1),l(!1)}};return c.jsx(Jm,{open:r,onOpenChange:e,children:c.jsxs(Ko,{className:"sm:max-w-md",children:[c.jsxs(Go,{children:[c.jsx(Yo,{children:"Welcome to Nomad Tips"}),c.jsx(Xo,{children:"Sign in to your account or create a new one to start sharing tips."})]}),c.jsxs(tl,{value:t,onValueChange:f=>s(f),children:[c.jsxs(la,{className:"grid w-full grid-cols-2",children:[c.jsx(vr,{value:"signin",children:"Sign In"}),c.jsx(vr,{value:"signup",children:"Sign Up"})]}),c.jsx(yr,{value:"signin",className:"space-y-4",children:c.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(qt,{htmlFor:"signin-email",children:"Email"}),c.jsx(Ue,{id:"signin-email",type:"email",placeholder:"Enter your email",...d.register("email")}),d.formState.errors.email&&c.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.email.message})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(qt,{htmlFor:"signin-password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ue,{id:"signin-password",type:n?"text":"password",placeholder:"Enter your password",...d.register("password")}),c.jsx(ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!n),children:n?c.jsx(ei,{className:"h-4 w-4"}):c.jsx(ti,{className:"h-4 w-4"})})]}),d.formState.errors.password&&c.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.password.message})]}),c.jsxs(ie,{type:"submit",className:"w-full",disabled:i,children:[i&&c.jsx(Ln,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]})]})}),c.jsx(yr,{value:"signup",className:"space-y-4",children:c.jsxs("form",{onSubmit:u.handleSubmit(m),className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(qt,{htmlFor:"signup-nickname",children:"Nickname"}),c.jsx(Ue,{id:"signup-nickname",type:"text",placeholder:"Choose a nickname",...u.register("nickname")}),u.formState.errors.nickname&&c.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.nickname.message})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(qt,{htmlFor:"signup-email",children:"Email"}),c.jsx(Ue,{id:"signup-email",type:"email",placeholder:"Enter your email",...u.register("email")}),u.formState.errors.email&&c.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.email.message})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(qt,{htmlFor:"signup-password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ue,{id:"signup-password",type:n?"text":"password",placeholder:"Create a password",...u.register("password")}),c.jsx(ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!n),children:n?c.jsx(ei,{className:"h-4 w-4"}):c.jsx(ti,{className:"h-4 w-4"})})]}),u.formState.errors.password&&c.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.password.message})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(qt,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),c.jsx(Ue,{id:"signup-confirm-password",type:n?"text":"password",placeholder:"Confirm your password",...u.register("confirmPassword")}),u.formState.errors.confirmPassword&&c.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.confirmPassword.message})]}),c.jsxs(ie,{type:"submit",className:"w-full",disabled:i,children:[i&&c.jsx(Ln,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})]})})]})]})})}const rp=[{path:"/",icon:vo,label:"Home"},{path:"/map",icon:yo,label:"Map"},{path:"/profile",icon:Qn,label:"Profile"}];function sp(){const r=Yt(),{user:e}=Nr(),[t,s]=p.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:c.jsxs("div",{className:"flex flex-col flex-grow bg-card border-r border-border pt-5 pb-4 overflow-y-auto",children:[c.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:c.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Nomad Tips"})}),c.jsxs("div",{className:"mt-5 flex-grow flex flex-col",children:[c.jsx("nav",{className:"flex-1 px-2 space-y-1",children:rp.map(({path:n,icon:a,label:i})=>{const o=r.pathname===n;return c.jsxs(Sn,{to:n,className:G("group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors",o?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[c.jsx(a,{className:G("mr-3 flex-shrink-0 h-6 w-6",o?"text-primary":"text-muted-foreground group-hover:text-foreground")}),i]},n)})}),c.jsxs("div",{className:"flex-shrink-0 px-2 space-y-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),c.jsx(Ue,{placeholder:"Search tips...",className:"pl-10"})]}),e?c.jsxs(ie,{className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[c.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Write Tip"]}):c.jsxs(ie,{onClick:()=>s(!0),variant:"outline",className:"w-full",children:[c.jsx($n,{className:"w-4 h-4 mr-2"}),"Sign In"]}),e&&c.jsx("div",{className:"border-t border-border pt-3",children:c.jsxs(Sn,{to:"/profile",className:"flex items-center gap-3 p-2 rounded-md hover:bg-muted transition-colors",children:[c.jsxs(hs,{className:"w-8 h-8",children:[c.jsx(fs,{src:e.avatar_url,alt:e.nickname}),c.jsx(ms,{className:"bg-primary/10 text-primary text-xs",children:e.nickname.charAt(0).toUpperCase()})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:e.nickname}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.points," points"]})]})]})})]})]})]})}),c.jsx(ca,{open:t,onOpenChange:s})]})}const da=[{id:"food",emoji:"",label:"Food",color:"bg-red-100 text-red-700"},{id:"cafe",emoji:"",label:"Cafe",color:"bg-amber-100 text-amber-700"},{id:"accommodation",emoji:"",label:"Stay",color:"bg-blue-100 text-blue-700"},{id:"workspace",emoji:"",label:"Work",color:"bg-purple-100 text-purple-700"},{id:"exercise",emoji:"",label:"Fitness",color:"bg-green-100 text-green-700"},{id:"entertainment",emoji:"",label:"Fun",color:"bg-pink-100 text-pink-700"},{id:"transport",emoji:"",label:"Transport",color:"bg-cyan-100 text-cyan-700"},{id:"shopping",emoji:"",label:"Shopping",color:"bg-orange-100 text-orange-700"},{id:"nature",emoji:"",label:"Nature",color:"bg-emerald-100 text-emerald-700"},{id:"other",emoji:"",label:"Other",color:"bg-gray-100 text-gray-700"}],We=p.forwardRef(({className:r,...e},t)=>c.jsx("div",{ref:t,className:G("rounded-xl border bg-card text-card-foreground shadow",r),...e}));We.displayName="Card";const rl=p.forwardRef(({className:r,...e},t)=>c.jsx("div",{ref:t,className:G("flex flex-col space-y-1.5 p-6",r),...e}));rl.displayName="CardHeader";const sl=p.forwardRef(({className:r,...e},t)=>c.jsx("h3",{ref:t,className:G("font-semibold leading-none tracking-tight",r),...e}));sl.displayName="CardTitle";const np=p.forwardRef(({className:r,...e},t)=>c.jsx("p",{ref:t,className:G("text-sm text-muted-foreground",r),...e}));np.displayName="CardDescription";const Ze=p.forwardRef(({className:r,...e},t)=>c.jsx("div",{ref:t,className:G("p-6 pt-0",r),...e}));Ze.displayName="CardContent";const ap=p.forwardRef(({className:r,...e},t)=>c.jsx("div",{ref:t,className:G("flex items-center p-6 pt-0",r),...e}));ap.displayName="CardFooter";function Ls({tip:r,onLike:e,onSave:t,onComment:s,onUserClick:n}){const a=da.find(o=>o.id===r.category),i=Il(new Date(r.created_at),{addSuffix:!0});return c.jsx(We,{className:"w-full",children:c.jsxs(Ze,{className:"p-4 sm:p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsxs(hs,{className:"w-10 h-10 sm:w-12 sm:h-12 cursor-pointer flex-shrink-0",onClick:n,children:[c.jsx(fs,{src:r.user?.avatar_url,alt:r.user?.nickname}),c.jsx(ms,{className:"bg-primary/10 text-primary",children:r.user?.nickname?.charAt(0).toUpperCase()})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("h4",{className:"font-semibold text-foreground cursor-pointer hover:text-primary truncate",onClick:n,children:r.user?.nickname}),r.user?.trust_level&&r.user.trust_level>50&&c.jsxs("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full whitespace-nowrap",children:["Trust ",r.user.trust_level]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[c.jsx(Bs,{className:"w-3 h-3 flex-shrink-0"}),c.jsx("span",{className:"truncate",children:r.location.city}),c.jsx("span",{children:""}),c.jsx("span",{className:"whitespace-nowrap",children:i})]})]}),a&&c.jsxs("div",{className:G("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium flex-shrink-0",a.color),children:[c.jsx("span",{children:a.emoji}),c.jsx("span",{className:"hidden sm:inline",children:a.label})]})]}),c.jsx("p",{className:"text-foreground mb-3 leading-relaxed text-sm sm:text-base",children:r.content}),r.images&&r.images.length>0&&c.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:r.images.slice(0,4).map((o,l)=>c.jsx("div",{className:G("aspect-square bg-muted rounded-lg overflow-hidden",r.images.length===1&&"col-span-2 aspect-video"),children:c.jsx("img",{src:o,alt:`Tip image ${l+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer"})},l))}),c.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:[c.jsxs("div",{className:"flex items-center gap-1 sm:gap-4",children:[c.jsxs(ie,{variant:"ghost",size:"sm",className:G("p-2 h-auto text-xs sm:text-sm",r.is_liked&&"text-red-500"),onClick:e,children:[c.jsx(Yn,{className:G("w-4 h-4 mr-1",r.is_liked&&"fill-current")}),c.jsx("span",{className:"hidden sm:inline",children:r.likes_count}),c.jsx("span",{className:"sm:hidden",children:r.likes_count})]}),c.jsxs(ie,{variant:"ghost",size:"sm",className:"p-2 h-auto text-muted-foreground text-xs sm:text-sm",onClick:s,children:[c.jsx(Xn,{className:"w-4 h-4 mr-1"}),c.jsx("span",{className:"hidden sm:inline",children:r.comments_count}),c.jsx("span",{className:"sm:hidden",children:r.comments_count})]})]}),c.jsx(ie,{variant:"ghost",size:"sm",className:G("p-2 h-auto",r.is_saved&&"text-primary"),onClick:t,children:c.jsx(go,{className:G("w-4 h-4",r.is_saved&&"fill-current")})})]})]})})}function ip(r,[e,t]){return Math.min(t,Math.max(e,r))}function op(r,e){return p.useReducer((t,s)=>e[t][s]??t,r)}var ua="ScrollArea",[nl,zp]=Ti(ua),[lp,Me]=nl(ua),al=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,type:s="hover",dir:n,scrollHideDelay:a=600,...i}=r,[o,l]=p.useState(null),[d,u]=p.useState(null),[h,m]=p.useState(null),[f,y]=p.useState(null),[w,b]=p.useState(null),[S,k]=p.useState(0),[_,C]=p.useState(0),[$,D]=p.useState(!1),[R,fe]=p.useState(!1),V=Tr(e,me=>l(me)),Q=Nl(n);return c.jsx(lp,{scope:t,type:s,dir:Q,scrollHideDelay:a,scrollArea:o,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:y,scrollbarXEnabled:$,onScrollbarXEnabledChange:D,scrollbarY:w,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:fe,onCornerWidthChange:k,onCornerHeightChange:C,children:c.jsx(Lt.div,{dir:Q,...i,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":_+"px",...r.style}})})});al.displayName=ua;var il="ScrollAreaViewport",ol=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,children:s,asChild:n,nonce:a,...i}=r,o=Me(il,t),l=p.useRef(null),d=Tr(e,l,o.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),c.jsx(Lt.div,{"data-radix-scroll-area-viewport":"",...i,asChild:n,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...r.style},children:yp({asChild:n,children:s},u=>c.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});ol.displayName=il;var ot="ScrollAreaScrollbar",ha=p.forwardRef((r,e)=>{const{forceMount:t,...s}=r,n=Me(ot,r.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=n,o=r.orientation==="horizontal";return p.useEffect(()=>(o?a(!0):i(!0),()=>{o?a(!1):i(!1)}),[o,a,i]),n.type==="hover"?c.jsx(cp,{...s,ref:e,forceMount:t}):n.type==="scroll"?c.jsx(dp,{...s,ref:e,forceMount:t}):n.type==="auto"?c.jsx(ll,{...s,ref:e,forceMount:t}):n.type==="always"?c.jsx(fa,{...s,ref:e}):null});ha.displayName=ot;var cp=p.forwardRef((r,e)=>{const{forceMount:t,...s}=r,n=Me(ot,r.__scopeScrollArea),[a,i]=p.useState(!1);return p.useEffect(()=>{const o=n.scrollArea;let l=0;if(o){const d=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),n.scrollHideDelay)};return o.addEventListener("pointerenter",d),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",d),o.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),c.jsx(Qs,{present:t||a,children:c.jsx(ll,{"data-state":a?"visible":"hidden",...s,ref:e})})}),dp=p.forwardRef((r,e)=>{const{forceMount:t,...s}=r,n=Me(ot,r.__scopeScrollArea),a=r.orientation==="horizontal",i=ln(()=>l("SCROLL_END"),100),[o,l]=op("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>l("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,n.scrollHideDelay,l]),p.useEffect(()=>{const d=n.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const f=d[u];h!==f&&(l("SCROLL"),i()),h=f};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[n.viewport,a,l,i]),c.jsx(Qs,{present:t||o!=="hidden",children:c.jsx(fa,{"data-state":o==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Ht(r.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ht(r.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ll=p.forwardRef((r,e)=>{const t=Me(ot,r.__scopeScrollArea),{forceMount:s,...n}=r,[a,i]=p.useState(!1),o=r.orientation==="horizontal",l=ln(()=>{if(t.viewport){const d=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;i(o?d:u)}},10);return jr(t.viewport,l),jr(t.content,l),c.jsx(Qs,{present:s||a,children:c.jsx(fa,{"data-state":a?"visible":"hidden",...n,ref:e})})}),fa=p.forwardRef((r,e)=>{const{orientation:t="vertical",...s}=r,n=Me(ot,r.__scopeScrollArea),a=p.useRef(null),i=p.useRef(0),[o,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=fl(o.viewport,o.content),u={...s,sizes:o,onSizesChange:l,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,f){return gp(m,i.current,o,f)}return t==="horizontal"?c.jsx(up,{...u,ref:e,onThumbPositionChange:()=>{if(n.viewport&&a.current){const m=n.viewport.scrollLeft,f=ki(m,o,n.dir);a.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollLeft=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollLeft=h(m,n.dir))}}):t==="vertical"?c.jsx(hp,{...u,ref:e,onThumbPositionChange:()=>{if(n.viewport&&a.current){const m=n.viewport.scrollTop,f=ki(m,o);a.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollTop=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollTop=h(m))}}):null}),up=p.forwardRef((r,e)=>{const{sizes:t,onSizesChange:s,...n}=r,a=Me(ot,r.__scopeScrollArea),[i,o]=p.useState(),l=p.useRef(null),d=Tr(e,l,a.onScrollbarXChange);return p.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(dl,{"data-orientation":"horizontal",...n,ref:d,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":on(t)+"px",...r.style},onThumbPointerDown:u=>r.onThumbPointerDown(u.x),onDragScroll:u=>r.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;r.onWheelScroll(m),pl(m,h)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&i&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Xs(i.paddingLeft),paddingEnd:Xs(i.paddingRight)}})}})}),hp=p.forwardRef((r,e)=>{const{sizes:t,onSizesChange:s,...n}=r,a=Me(ot,r.__scopeScrollArea),[i,o]=p.useState(),l=p.useRef(null),d=Tr(e,l,a.onScrollbarYChange);return p.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(dl,{"data-orientation":"vertical",...n,ref:d,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":on(t)+"px",...r.style},onThumbPointerDown:u=>r.onThumbPointerDown(u.y),onDragScroll:u=>r.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;r.onWheelScroll(m),pl(m,h)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&i&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Xs(i.paddingTop),paddingEnd:Xs(i.paddingBottom)}})}})}),[fp,cl]=nl(ot),dl=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,sizes:s,hasThumb:n,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=r,f=Me(ot,t),[y,w]=p.useState(null),b=Tr(e,V=>w(V)),S=p.useRef(null),k=p.useRef(""),_=f.viewport,C=s.content-s.viewport,$=St(u),D=St(l),R=ln(h,10);function fe(V){if(S.current){const Q=V.clientX-S.current.left,me=V.clientY-S.current.top;d({x:Q,y:me})}}return p.useEffect(()=>{const V=Q=>{const me=Q.target;y?.contains(me)&&$(Q,C)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[_,y,C,$]),p.useEffect(D,[s,D]),jr(y,R),jr(f.content,R),c.jsx(fp,{scope:t,scrollbar:y,hasThumb:n,onThumbChange:St(a),onThumbPointerUp:St(i),onThumbPositionChange:D,onThumbPointerDown:St(o),children:c.jsx(Lt.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:Ht(r.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),S.current=y.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),fe(V))}),onPointerMove:Ht(r.onPointerMove,fe),onPointerUp:Ht(r.onPointerUp,V=>{const Q=V.target;Q.hasPointerCapture(V.pointerId)&&Q.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=k.current,f.viewport&&(f.viewport.style.scrollBehavior=""),S.current=null})})})}),Ys="ScrollAreaThumb",ul=p.forwardRef((r,e)=>{const{forceMount:t,...s}=r,n=cl(Ys,r.__scopeScrollArea);return c.jsx(Qs,{present:t||n.hasThumb,children:c.jsx(mp,{ref:e,...s})})}),mp=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,style:s,...n}=r,a=Me(Ys,t),i=cl(Ys,t),{onThumbPositionChange:o}=i,l=Tr(e,h=>i.onThumbChange(h)),d=p.useRef(),u=ln(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(u(),!d.current){const f=vp(h,o);d.current=f,o()}};return o(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,u,o]),c.jsx(Lt.div,{"data-state":i.hasThumb?"visible":"hidden",...n,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ht(r.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),y=h.clientX-f.left,w=h.clientY-f.top;i.onThumbPointerDown({x:y,y:w})}),onPointerUp:Ht(r.onPointerUp,i.onThumbPointerUp)})});ul.displayName=Ys;var ma="ScrollAreaCorner",hl=p.forwardRef((r,e)=>{const t=Me(ma,r.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&s?c.jsx(pp,{...r,ref:e}):null});hl.displayName=ma;var pp=p.forwardRef((r,e)=>{const{__scopeScrollArea:t,...s}=r,n=Me(ma,t),[a,i]=p.useState(0),[o,l]=p.useState(0),d=!!(a&&o);return jr(n.scrollbarX,()=>{const u=n.scrollbarX?.offsetHeight||0;n.onCornerHeightChange(u),l(u)}),jr(n.scrollbarY,()=>{const u=n.scrollbarY?.offsetWidth||0;n.onCornerWidthChange(u),i(u)}),d?c.jsx(Lt.div,{...s,ref:e,style:{width:a,height:o,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function Xs(r){return r?parseInt(r,10):0}function fl(r,e){const t=r/e;return isNaN(t)?0:t}function on(r){const e=fl(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,s=(r.scrollbar.size-t)*e;return Math.max(s,18)}function gp(r,e,t,s="ltr"){const n=on(t),a=n/2,i=e||a,o=n-i,l=t.scrollbar.paddingStart+i,d=t.scrollbar.size-t.scrollbar.paddingEnd-o,u=t.content-t.viewport,h=s==="ltr"?[0,u]:[u*-1,0];return ml([l,d],h)(r)}function ki(r,e,t="ltr"){const s=on(e),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-n,i=e.content-e.viewport,o=a-s,l=t==="ltr"?[0,i]:[i*-1,0],d=ip(r,l);return ml([0,i],[0,o])(d)}function ml(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(r[1]-r[0]);return e[0]+s*(t-r[0])}}function pl(r,e){return r>0&&r<e}var vp=(r,e=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},s=0;return function n(){const a={left:r.scrollLeft,top:r.scrollTop},i=t.left!==a.left,o=t.top!==a.top;(i||o)&&e(),t=a,s=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(s)};function ln(r,e){const t=St(r),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(t,e)},[t,e])}function jr(r,e){const t=St(e);qn(()=>{let s=0;if(r){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(t)});return n.observe(r),()=>{window.cancelAnimationFrame(s),n.unobserve(r)}}},[r,t])}function yp(r,e){const{asChild:t,children:s}=r;if(!t)return typeof e=="function"?e(s):e;const n=p.Children.only(s);return p.cloneElement(n,{children:typeof e=="function"?e(n.props.children):e})}var gl=al,bp=ol,wp=hl;const vl=p.forwardRef(({className:r,children:e,...t},s)=>c.jsxs(gl,{ref:s,className:G("relative overflow-hidden",r),...t,children:[c.jsx(bp,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(yl,{}),c.jsx(wp,{})]}));vl.displayName=gl.displayName;const yl=p.forwardRef(({className:r,orientation:e="vertical",...t},s)=>c.jsx(ha,{ref:s,orientation:e,className:G("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...t,children:c.jsx(ul,{className:"relative flex-1 rounded-full bg-border"})}));yl.displayName=ha.displayName;function Si({selectedCategory:r,onCategoryChange:e}){return c.jsx("div",{className:"bg-card border-b border-border",children:c.jsx(vl,{className:"w-full whitespace-nowrap",children:c.jsxs("div",{className:"flex gap-2 p-4 sm:px-6",children:[c.jsx(ie,{variant:r==="all"?"default":"outline",size:"sm",className:G("min-w-fit px-3 sm:px-4 text-xs sm:text-sm",r==="all"&&"bg-primary hover:bg-primary/90"),onClick:()=>e("all"),children:"All"}),da.map(t=>c.jsxs(ie,{variant:r===t.id?"default":"outline",size:"sm",className:G("min-w-fit px-3 sm:px-4 gap-1 text-xs sm:text-sm",r===t.id&&"bg-primary hover:bg-primary/90"),onClick:()=>e(t.id),children:[c.jsx("span",{children:t.emoji}),c.jsx("span",{className:"hidden sm:inline",children:t.label})]},t.id))]})})})}function bl({icon:r,title:e,description:t,action:s}){return c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:c.jsx(r,{className:"w-8 h-8 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),c.jsx("p",{className:"text-gray-600 mb-6 max-w-sm",children:t}),s]})}const wl=Ji(r=>({tips:[],selectedCategory:"all",currentLocation:null,isLoading:!1,setTips:e=>r({tips:e}),addTip:e=>r(t=>({tips:[e,...t.tips]})),updateTip:(e,t)=>r(s=>({tips:s.tips.map(n=>n.id===e?{...n,...t}:n)})),setSelectedCategory:e=>r({selectedCategory:e}),setCurrentLocation:e=>r({currentLocation:e}),setLoading:e=>r({isLoading:e})})),Fn={async getTips(r){let e=ue.from("tips").select(`
        *,
        user:users(*),
        is_liked:tip_likes!left(user_id),
        is_saved:tip_saves!left(user_id)
      `).order("created_at",{ascending:!1});const{data:t,error:s}=await e;if(s)throw s;return t?.map(n=>({...n,location:{latitude:n.latitude,longitude:n.longitude,city:n.city,country:n.country,address:n.address},is_liked:r?n.is_liked?.some(a=>a.user_id===r):!1,is_saved:r?n.is_saved?.some(a=>a.user_id===r):!1}))},async getTipsByCategory(r,e){const{data:t,error:s}=await ue.from("tips").select(`
        *,
        user:users(*),
        is_liked:tip_likes!left(user_id),
        is_saved:tip_saves!left(user_id)
      `).eq("category",r).order("created_at",{ascending:!1});if(s)throw s;return t?.map(n=>({...n,location:{latitude:n.latitude,longitude:n.longitude,city:n.city,country:n.country,address:n.address},is_liked:e?n.is_liked?.some(a=>a.user_id===e):!1,is_saved:e?n.is_saved?.some(a=>a.user_id===e):!1}))},async getUserTips(r){const{data:e,error:t}=await ue.from("tips").select(`
        *,
        user:users(*)
      `).eq("user_id",r).order("created_at",{ascending:!1});if(t)throw t;return e?.map(s=>({...s,location:{latitude:s.latitude,longitude:s.longitude,city:s.city,country:s.country,address:s.address}}))},async createTip(r){const{data:e,error:t}=await ue.from("tips").insert({user_id:r.user_id,content:r.content,category:r.category,images:r.images||[],latitude:r.location.latitude,longitude:r.location.longitude,city:r.location.city,country:r.location.country,address:r.location.address}).select(`
        *,
        user:users(*)
      `).single();if(t)throw t;return{...e,location:{latitude:e.latitude,longitude:e.longitude,city:e.city,country:e.country,address:e.address}}},async updateTip(r,e){const t={};e.content&&(t.content=e.content),e.category&&(t.category=e.category),e.images&&(t.images=e.images),e.location&&(t.latitude=e.location.latitude,t.longitude=e.location.longitude,t.city=e.location.city,t.country=e.location.country,t.address=e.location.address);const{data:s,error:n}=await ue.from("tips").update(t).eq("id",r).select(`
        *,
        user:users(*)
      `).single();if(n)throw n;return{...s,location:{latitude:s.latitude,longitude:s.longitude,city:s.city,country:s.country,address:s.address}}},async deleteTip(r){const{error:e}=await ue.from("tips").delete().eq("id",r);if(e)throw e}},kt={async toggleLike(r,e){const{data:t}=await ue.from("tip_likes").select("id").eq("tip_id",r).eq("user_id",e).single();if(t){const{error:s}=await ue.from("tip_likes").delete().eq("tip_id",r).eq("user_id",e);if(s)throw s;return!1}else{const{error:s}=await ue.from("tip_likes").insert({tip_id:r,user_id:e});if(s)throw s;return!0}},async toggleSave(r,e){const{data:t}=await ue.from("tip_saves").select("id").eq("tip_id",r).eq("user_id",e).single();if(t){const{error:s}=await ue.from("tip_saves").delete().eq("tip_id",r).eq("user_id",e);if(s)throw s;return!1}else{const{error:s}=await ue.from("tip_saves").insert({tip_id:r,user_id:e});if(s)throw s;return!0}},async getUserLikedTips(r){const{data:e,error:t}=await ue.from("tip_likes").select(`
        tip:tips(
          *,
          user:users(*)
        )
      `).eq("user_id",r).order("created_at",{ascending:!1});if(t)throw t;return e?.map(s=>({...s.tip,location:{latitude:s.tip.latitude,longitude:s.tip.longitude,city:s.tip.city,country:s.tip.country,address:s.tip.address},is_liked:!0}))},async getUserSavedTips(r){const{data:e,error:t}=await ue.from("tip_saves").select(`
        tip:tips(
          *,
          user:users(*)
        )
      `).eq("user_id",r).order("created_at",{ascending:!1});if(t)throw t;return e?.map(s=>({...s.tip,location:{latitude:s.tip.latitude,longitude:s.tip.longitude,city:s.tip.city,country:s.tip.country,address:s.tip.address},is_saved:!0}))}},xp={async getUserProfile(r){const{data:e,error:t}=await ue.from("users").select(`
        *,
        profile:user_profiles(*),
        stats:user_stats(*)
      `).eq("id",r).single();if(t)throw t;return e},async updateUserProfile(r,e){const{data:t,error:s}=await ue.from("user_profiles").upsert({user_id:r,...e}).select().single();if(s)throw s;return t},async updateUser(r,e){const{data:t,error:s}=await ue.from("users").update(e).eq("id",r).select().single();if(s)throw s;return t}};function _p(){const{tips:r,selectedCategory:e,isLoading:t,setTips:s,setSelectedCategory:n,setLoading:a,updateTip:i}=wl(),{user:o}=Nr(),[l,d]=p.useState(!1),u=async()=>{try{a(!0);const S=e==="all"?await Fn.getTips(o?.id):await Fn.getTipsByCategory(e,o?.id);s(S)}catch(S){console.error("Error loading tips:",S),le.error("Failed to load tips")}finally{a(!1)}};p.useEffect(()=>{u()},[e,o?.id]);const h=async()=>{d(!0),await u(),d(!1),le.success("Tips refreshed!")},m=async S=>{if(!o){le.error("Please sign in to like tips");return}try{const k=await kt.toggleLike(S,o.id),_=r.find(C=>C.id===S);_&&i(S,{is_liked:k,likes_count:_.likes_count+(k?1:-1)}),le.success(k?"Tip liked! ":"Tip unliked")}catch(k){console.error("Error toggling like:",k),le.error("Failed to update like")}},f=async S=>{if(!o){le.error("Please sign in to save tips");return}try{const k=await kt.toggleSave(S,o.id),_=r.find(C=>C.id===S);_&&i(S,{is_saved:k,saves_count:_.saves_count+(k?1:-1)}),le.success(k?"Tip saved! ":"Tip unsaved")}catch(k){console.error("Error toggling save:",k),le.error("Failed to update save")}},y=S=>{console.log("Comment on tip:",S),le.info("Comments feature coming soon! ")},w=S=>{console.log("View user profile:",S),le.info("User profiles feature coming soon! ")},b=e==="all"?r:r.filter(S=>S.category===e);return t&&r.length===0?c.jsxs("div",{className:"bg-background",children:[c.jsx(Si,{selectedCategory:e,onCategoryChange:n}),c.jsx("div",{className:"px-4 sm:px-6",children:c.jsx("div",{className:"space-y-4 py-4",children:[...Array(3)].map((S,k)=>c.jsxs("div",{className:"bg-card rounded-lg p-4 animate-pulse",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-24 mb-1"}),c.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]}),c.jsx("div",{className:"h-16 bg-muted rounded mb-3"}),c.jsx("div",{className:"h-32 bg-muted rounded"})]},k))})})]}):c.jsxs("div",{className:"bg-background",children:[c.jsx(Si,{selectedCategory:e,onCategoryChange:n}),c.jsx("div",{className:"px-4 sm:px-6",children:c.jsxs("div",{className:"space-y-4 sm:space-y-6 py-4",children:[r.length>0&&c.jsx("div",{className:"flex justify-center",children:c.jsxs(ie,{variant:"outline",size:"sm",onClick:h,disabled:l,className:"text-xs gap-2",children:[c.jsx(Xh,{className:`w-3 h-3 ${l?"animate-spin":""}`}),l?"Refreshing...":"Refresh"]})}),b.length===0?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx(bl,{icon:Bs,title:"No tips yet",description:"Be the first to share a tip in this category!",action:c.jsxs(ie,{className:"bg-primary hover:bg-primary/90",children:[c.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Write a tip"]})})}):c.jsx("div",{className:"grid gap-4 sm:gap-6",children:b.map(S=>c.jsx(Ls,{tip:S,onLike:()=>m(S.id),onSave:()=>f(S.id),onComment:()=>y(S.id),onUserClick:()=>w(S.user_id)},S.id))})]})})]})}function kp(){const{user:r}=Nr(),[e,t]=p.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"bg-card border-b border-border",children:c.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Nomad Tips"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Discover real-time nomad tips"})]}),c.jsxs("div",{className:"hidden lg:flex items-center gap-4 flex-1 max-w-md",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),c.jsx(Ue,{placeholder:"Search by location or keyword...",className:"pl-10"})]}),r?c.jsxs(ie,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground whitespace-nowrap",children:[c.jsx(Jr,{className:"w-4 h-4 mr-1"}),"Write tip"]}):c.jsxs(ie,{size:"sm",variant:"outline",className:"whitespace-nowrap",onClick:()=>t(!0),children:[c.jsx($n,{className:"w-4 h-4 mr-1"}),"Sign In"]})]}),c.jsx("div",{className:"lg:hidden",children:r?c.jsxs(ie,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground w-full sm:w-auto",children:[c.jsx(Jr,{className:"w-4 h-4 mr-1"}),"Write tip"]}):c.jsxs(ie,{size:"sm",variant:"outline",className:"w-full sm:w-auto",onClick:()=>t(!0),children:[c.jsx($n,{className:"w-4 h-4 mr-1"}),"Sign In"]})})]}),c.jsx("div",{className:"mt-4 lg:hidden",children:c.jsxs("div",{className:"relative",children:[c.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),c.jsx(Ue,{placeholder:"Search by location or keyword...",className:"pl-10"})]})})]})}),c.jsx(_p,{})]}),c.jsx(ca,{open:e,onOpenChange:t})]})}const Sp=ea("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function zn({className:r,variant:e,...t}){return c.jsx("div",{className:G(Sp({variant:e}),r),...t})}delete Wn.Icon.Default.prototype._getIconUrl;Wn.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const jp=(r,e)=>{const t=`
    <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
      <circle cx="20" cy="20" r="18" fill="#ffc0cb" stroke="#ffffff" stroke-width="3"/>
      <text x="20" y="26" text-anchor="middle" font-size="16" fill="black">${e}</text>
    </svg>
  `,s=btoa(unescape(encodeURIComponent(t)));return new Wn.Icon({iconUrl:`data:image/svg+xml;base64,${s}`,iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]})};function Tp({center:r,zoom:e}){const t=Ml();return p.useEffect(()=>{t.setView(r,e)},[t,r,e]),null}function Ep({tips:r,center:e,zoom:t=13,onTipClick:s}){const[n,a]=p.useState(null),i=l=>{a(l),s?.(l)},o=l=>{const d=`https://www.google.com/maps/search/?api=1&query=${l.location.latitude},${l.location.longitude}`;window.open(d,"_blank")};return c.jsx("div",{className:"relative w-full h-full",children:c.jsxs(Ll,{center:e,zoom:t,className:"w-full h-full z-0",zoomControl:!1,children:[c.jsx(Tp,{center:e,zoom:t}),c.jsx($l,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.map(l=>{const d=da.find(h=>h.id===l.category),u=d?jp(l.category,d.emoji):void 0;return c.jsx(Dl,{position:[l.location.latitude,l.location.longitude],icon:u,eventHandlers:{click:()=>i(l)},children:c.jsx(Ul,{className:"custom-popup",minWidth:280,maxWidth:320,children:c.jsxs("div",{className:"p-2",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsxs(hs,{className:"w-8 h-8",children:[c.jsx(fs,{src:l.user?.avatar_url,alt:l.user?.nickname}),c.jsx(ms,{className:"bg-primary/10 text-primary text-xs",children:l.user?.nickname?.charAt(0).toUpperCase()})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:l.user?.nickname}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d&&c.jsxs(zn,{variant:"secondary",className:"text-xs px-1 py-0",children:[d.emoji," ",d.label]}),l.user?.trust_level&&l.user.trust_level>50&&c.jsxs(zn,{variant:"outline",className:"text-xs px-1 py-0",children:["Trust ",l.user.trust_level]})]})]})]}),c.jsx("p",{className:"text-sm text-gray-900 mb-3 leading-relaxed line-clamp-3",children:l.content}),l.images&&l.images.length>0&&c.jsx("div",{className:"mb-3",children:c.jsx("img",{src:l.images[0],alt:"Tip image",className:"w-full h-32 object-cover rounded-lg"})}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Yn,{className:"w-3 h-3"}),l.likes_count]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Xn,{className:"w-3 h-3"}),l.comments_count]})]}),c.jsx("span",{className:"truncate",children:l.location.city})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(ie,{size:"sm",variant:"outline",className:"flex-1 text-xs h-8",onClick:()=>o(l),children:[c.jsx(Zh,{className:"w-3 h-3 mr-1"}),"View on map"]})})]})})},l.id)})]})})}const ji=[{id:"1",user_id:"user1",content:"This cafe has super fast WiFi and plenty of power outlets! Perfect spot for nomad work ",category:"cafe",location:{latitude:13.7563,longitude:100.5018,city:"Bangkok",country:"Thailand",address:"Siam Square"},likes_count:24,comments_count:5,saves_count:12,created_at:new Date(Date.now()-1e3*60*60*2).toISOString(),user:{id:"user1",email:"user1@example.com",nickname:"BangkokNomad",bio:"Full-stack developer | Digital nomad",avatar_url:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=2",points:150,trust_level:75,created_at:"2024-01-01T00:00:00Z"},images:["https://images.pexels.com/photos/2074130/pexels-photo-2074130.jpeg?auto=compress&cs=tinysrgb&w=800"],is_liked:!1,is_saved:!1},{id:"2",user_id:"user2",content:"Hidden gem restaurant! Local pad thai spot that only locals know about. Cheap and huge portions ",category:"food",location:{latitude:13.7465,longitude:100.5351,city:"Bangkok",country:"Thailand"},likes_count:18,comments_count:3,saves_count:8,created_at:new Date(Date.now()-1e3*60*60*5).toISOString(),user:{id:"user2",email:"user2@example.com",nickname:"BangkokFoodie",bio:"UX Designer | Food explorer",points:89,trust_level:60,created_at:"2024-01-01T00:00:00Z"},images:["https://images.pexels.com/photos/1600727/pexels-photo-1600727.jpeg?auto=compress&cs=tinysrgb&w=800"],is_liked:!0,is_saved:!1},{id:"3",user_id:"user3",content:"Great park for morning runs! Lots of locals exercise here and it's very safe. Recommend 6-7am ",category:"exercise",location:{latitude:13.7367,longitude:100.548,city:"Bangkok",country:"Thailand"},likes_count:31,comments_count:7,saves_count:15,created_at:new Date(Date.now()-1e3*60*60*12).toISOString(),user:{id:"user3",email:"user3@example.com",nickname:"BangkokRunner",bio:"Marketer | Fitness enthusiast",points:220,trust_level:85,created_at:"2024-01-01T00:00:00Z"},images:["https://images.pexels.com/photos/3654772/pexels-photo-3654772.jpeg?auto=compress&cs=tinysrgb&w=800"],is_liked:!1,is_saved:!0},{id:"4",user_id:"user4",content:"Coworking space recommendation! 24/7 operation with meeting rooms. Great value monthly pass ",category:"workspace",location:{latitude:13.7308,longitude:100.5418,city:"Bangkok",country:"Thailand"},likes_count:42,comments_count:12,saves_count:28,created_at:new Date(Date.now()-1e3*60*60*8).toISOString(),user:{id:"user4",email:"user4@example.com",nickname:"DigitalWorker",bio:"Freelance developer",points:320,trust_level:90,created_at:"2024-01-01T00:00:00Z"},images:["https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=800"],is_liked:!1,is_saved:!1},{id:"5",user_id:"user5",content:"Clean and affordable accommodation! Great location and friendly staff. Long-term discounts available ",category:"accommodation",location:{latitude:13.765,longitude:100.538,city:"Bangkok",country:"Thailand"},likes_count:35,comments_count:8,saves_count:22,created_at:new Date(Date.now()-1e3*60*60*6).toISOString(),user:{id:"user5",email:"user5@example.com",nickname:"AccommodationHunter",bio:"Travel blogger",points:180,trust_level:70,created_at:"2024-01-01T00:00:00Z"},images:["https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg?auto=compress&cs=tinysrgb&w=800"],is_liked:!0,is_saved:!0}];function Cp(){const[r,e]=p.useState(!1),[t,s]=p.useState(!1),[n,a]=p.useState([13.7563,100.5018]),[i,o]=p.useState(""),{currentLocation:l,setCurrentLocation:d}=wl(),u=async()=>{s(!0);try{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(y=>{const{latitude:w,longitude:b}=y.coords;a([w,b]),d({latitude:w,longitude:b}),e(!0),s(!1)},y=>{e(!0),s(!1)}):(e(!0),s(!1))}catch{e(!0),s(!1)}},h=y=>{o(y),y.toLowerCase().includes("bangkok")&&(a([13.7563,100.5018]),e(!0))},m=y=>{console.log("Tip clicked:",y)},f=()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(y=>{const{latitude:w,longitude:b}=y.coords;a([w,b])},y=>{})};return r?c.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"bg-card border-b border-border p-4 sm:p-6 flex-shrink-0 z-10",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Map"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Bangkok  ",ji.length," tips"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(ie,{variant:"outline",size:"sm",onClick:f,className:"flex-shrink-0",children:[c.jsx(Wh,{className:"w-4 h-4 sm:mr-1"}),c.jsx("span",{className:"hidden sm:inline",children:"Recenter"})]}),c.jsxs(ie,{variant:"outline",size:"sm",className:"flex-shrink-0",children:[c.jsx(Hh,{className:"w-4 h-4 sm:mr-1"}),c.jsx("span",{className:"hidden sm:inline",children:"Filter"})]})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),c.jsx(Ue,{placeholder:"Search places or addresses...",className:"pl-10",value:i,onChange:y=>o(y.target.value)})]})]}),c.jsx("div",{className:"flex-1 relative",children:c.jsx(Ep,{tips:ji,center:n,zoom:14,onTipClick:m})})]}):c.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"bg-card border-b border-border p-4 sm:p-6 flex-shrink-0",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground mb-2",children:"Map"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Discover nomad tips around you"}),c.jsxs("div",{className:"relative",children:[c.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),c.jsx(Ue,{placeholder:"Search by location (e.g., Bangkok, Chiang Mai)",className:"pl-10",value:i,onChange:y=>h(y.target.value),onKeyPress:y=>{y.key==="Enter"&&h(i)}})]})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6",children:c.jsx(bl,{icon:ri,title:"Location permission needed",description:"Allow location access to see nomad tips around your current location.",action:c.jsxs(ie,{onClick:u,disabled:t,className:"bg-primary hover:bg-primary/90",children:[c.jsx(ri,{className:"w-4 h-4 mr-2"}),t?"Getting location...":"Use current location"]})})})]})}function Np(){const{user:r,isLoading:e,signOut:t}=Nr(),[s,n]=p.useState(!1),[a,i]=p.useState(null),[o,l]=p.useState(null),[d,u]=p.useState([]),[h,m]=p.useState([]),[f,y]=p.useState([]),[w,b]=p.useState(!1),S=async()=>{if(r)try{b(!0);const R=await xp.getUserProfile(r.id);i(R.stats||{tips_count:0,likes_received:0,comments_received:0,saves_received:0,cities_visited:0,countries_visited:0}),l(R.profile||{});const fe=await Fn.getUserTips(r.id);u(fe);const V=await kt.getUserLikedTips(r.id);m(V);const Q=await kt.getUserSavedTips(r.id);y(Q)}catch(R){console.error("Error loading user data:",R),le.error("Failed to load profile data")}finally{b(!1)}};p.useEffect(()=>{r&&S()},[r]);const k=async()=>{try{await t(),le.success("Signed out successfully")}catch{le.error("Failed to sign out")}},_=async(R,fe)=>{if(r)try{if(fe==="like"){await kt.toggleLike(R,r.id);const V=await kt.getUserLikedTips(r.id);m(V)}else if(fe==="save"){await kt.toggleSave(R,r.id);const V=await kt.getUserSavedTips(r.id);y(V)}}catch(V){console.error(`Error ${fe}ing tip:`,V),le.error(`Failed to ${fe} tip`)}},C=R=>R>=90?{label:"Master",color:"bg-purple-100 text-purple-700"}:R>=70?{label:"Expert",color:"bg-blue-100 text-blue-700"}:R>=50?{label:"Experienced",color:"bg-green-100 text-green-700"}:R>=30?{label:"Beginner",color:"bg-yellow-100 text-yellow-700"}:{label:"Newcomer",color:"bg-gray-100 text-gray-700"};if(e)return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!r)return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"bg-card border-b border-border p-4 sm:p-6",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Profile"})})}),c.jsx("div",{className:"flex items-center justify-center min-h-[60vh] p-4",children:c.jsx(We,{className:"w-full max-w-md",children:c.jsxs(Ze,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Qn,{className:"w-8 h-8 text-muted-foreground"})}),c.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Sign in to view your profile"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Create an account or sign in to start sharing tips and building your nomad profile."}),c.jsx(ie,{onClick:()=>n(!0),className:"w-full",children:"Sign In / Sign Up"})]})})}),c.jsx(ca,{open:s,onOpenChange:n})]});const $=C(r.trust_level),D=a||{tips_count:0,likes_received:0,comments_received:0,saves_received:0,cities_visited:0,countries_visited:0};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"bg-card border-b border-border p-4 sm:p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Profile"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ie,{variant:"ghost",size:"sm",children:c.jsx(Qh,{className:"w-4 h-4"})}),c.jsx(ie,{variant:"ghost",size:"sm",onClick:k,children:c.jsx(Yh,{className:"w-4 h-4"})})]})]})}),c.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[c.jsx(We,{children:c.jsx(Ze,{className:"p-4 sm:p-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[c.jsxs(hs,{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto sm:mx-0",children:[c.jsx(fs,{src:r.avatar_url,alt:r.nickname}),c.jsx(ms,{className:"text-xl bg-primary/10 text-primary",children:r.nickname.charAt(0).toUpperCase()})]}),c.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground",children:o?.full_name||r.nickname}),c.jsxs(zn,{className:$.color,children:[c.jsx(tf,{className:"w-3 h-3 mr-1"}),$.label]})]}),r.bio&&c.jsx("p",{className:"text-muted-foreground mb-3",children:r.bio}),o?.location&&c.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-1 text-sm text-muted-foreground mb-2",children:[c.jsx(Bs,{className:"w-3 h-3"}),c.jsx("span",{children:o.location})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 text-sm text-muted-foreground mb-3",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Bs,{className:"w-3 h-3"}),D.countries_visited," countries, ",D.cities_visited," cities"]}),c.jsxs("span",{children:[r.points.toLocaleString()," points"]}),c.jsxs("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:["Joined ",new Date(r.created_at).toLocaleDateString()]})]}),(o?.website||o?.instagram||o?.twitter||o?.linkedin)&&c.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3 mb-3",children:[o.website&&c.jsx("a",{href:o.website,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary",children:c.jsx(Jh,{className:"w-4 h-4"})}),o.instagram&&c.jsx("a",{href:`https://instagram.com/${o.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary",children:c.jsx(Kh,{className:"w-4 h-4"})}),o.twitter&&c.jsx("a",{href:`https://twitter.com/${o.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary",children:c.jsx(rf,{className:"w-4 h-4"})}),o.linkedin&&c.jsx("a",{href:o.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary",children:c.jsx(Gh,{className:"w-4 h-4"})})]})]}),c.jsxs(ie,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[c.jsx(ef,{className:"w-4 h-4 mr-1"}),"Edit"]})]})})}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(We,{children:c.jsxs(Ze,{className:"p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:D.tips_count}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Tips written"})]})}),c.jsx(We,{children:c.jsxs(Ze,{className:"p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-red-500 mb-1",children:D.likes_received}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Likes received"})]})}),c.jsx(We,{children:c.jsxs(Ze,{className:"p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-500 mb-1",children:D.comments_received}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Comments"})]})}),c.jsx(We,{children:c.jsxs(Ze,{className:"p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-500 mb-1",children:D.saves_received}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Saves"})]})})]}),D.tips_count===0&&c.jsx(We,{className:"border-primary/20 bg-primary/5",children:c.jsx(Ze,{className:"p-4 sm:p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Welcome to Nomad Tips! "}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Start sharing your travel experiences and discover amazing tips from fellow nomads."}),c.jsxs(ie,{className:"bg-primary hover:bg-primary/90",children:[c.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Write your first tip"]})]})})}),c.jsx(We,{children:c.jsx(Ze,{className:"p-0",children:c.jsxs(tl,{defaultValue:"tips",className:"w-full",children:[c.jsxs(la,{className:"grid w-full grid-cols-3",children:[c.jsxs(vr,{value:"tips",children:["My Tips (",D.tips_count,")"]}),c.jsxs(vr,{value:"liked",children:["Liked (",h.length,")"]}),c.jsxs(vr,{value:"saved",children:["Saved (",f.length,")"]})]}),c.jsx(yr,{value:"tips",className:"p-4 sm:p-6",children:w?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading tips..."})]}):d.length===0?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(Xn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg font-medium mb-2",children:"No tips yet"}),c.jsx("p",{className:"text-sm",children:"Share your first travel tip to get started!"})]}):c.jsx("div",{className:"space-y-4",children:d.map(R=>c.jsx(Ls,{tip:R,onLike:()=>_(R.id,"like"),onSave:()=>_(R.id,"save"),onComment:()=>console.log("Comment on tip:",R.id),onUserClick:()=>{}},R.id))})}),c.jsx(yr,{value:"liked",className:"p-4 sm:p-6",children:w?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading liked tips..."})]}):h.length===0?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(Yn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg font-medium mb-2",children:"No liked tips yet"}),c.jsx("p",{className:"text-sm",children:"Like tips you find helpful to save them here."})]}):c.jsx("div",{className:"space-y-4",children:h.map(R=>c.jsx(Ls,{tip:R,onLike:()=>_(R.id,"like"),onSave:()=>_(R.id,"save"),onComment:()=>console.log("Comment on tip:",R.id),onUserClick:()=>console.log("View user:",R.user_id)},R.id))})}),c.jsx(yr,{value:"saved",className:"p-4 sm:p-6",children:w?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading saved tips..."})]}):f.length===0?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(go,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg font-medium mb-2",children:"No saved tips yet"}),c.jsx("p",{className:"text-sm",children:"Save tips you want to reference later."})]}):c.jsx("div",{className:"space-y-4",children:f.map(R=>c.jsx(Ls,{tip:R,onLike:()=>_(R.id,"like"),onSave:()=>_(R.id,"save"),onComment:()=>console.log("Comment on tip:",R.id),onUserClick:()=>console.log("View user:",R.user_id)},R.id))})})]})})})]})]})}const Lr=[{email:"test1@example.com",password:"test123456",nickname:"TestUser1",bio:"Full-stack developer testing the app  Building amazing web experiences"},{email:"test2@example.com",password:"test123456",nickname:"TestUser2",bio:"UX/UI Designer exploring the world  Creating beautiful digital experiences"},{email:"test3@example.com",password:"test123456",nickname:"TestUser3",bio:"Content writer and travel blogger  Sharing stories from the road"},{email:"test4@example.com",password:"test123456",nickname:"TestUser4",bio:"Digital marketer and growth hacker  Helping startups scale globally"},{email:"test5@example.com",password:"test123456",nickname:"TestUser5",bio:"Business consultant and nomad mentor  Guiding remote teams to success"}];function Ap(){const[r,e]=p.useState(!1),[t,s]=p.useState([]),n=async()=>{e(!0);const a=[];try{for(const i of Lr)try{const{error:o}=await xr.signUp(i.email,i.password,i.nickname);o?o.message.includes("already registered")?(le.info(`${i.email} already exists`),a.push(i.email)):le.error(`Failed to create ${i.email}: ${o.message}`):(le.success(`Created ${i.email}`),a.push(i.email)),await new Promise(l=>setTimeout(l,500))}catch(o){console.error(`Error creating ${i.email}:`,o),le.error(`Error creating ${i.email}`)}s(a),a.length===Lr.length?le.success("All test accounts created successfully! "):le.info(`Created ${a.length}/${Lr.length} accounts`)}catch(i){console.error("Error creating test accounts:",i),le.error("Failed to create test accounts")}finally{e(!1)}};return c.jsxs(We,{className:"w-full max-w-2xl",children:[c.jsx(rl,{children:c.jsxs(sl,{className:"flex items-center gap-2",children:[c.jsx(sf,{className:"w-5 h-5"}),"Create Test Accounts"]})}),c.jsxs(Ze,{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Create 5 test accounts for development and testing purposes."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Test Accounts:"}),c.jsx("div",{className:"grid gap-2",children:Lr.map(a=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-mono text-sm",children:a.email}),c.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",a.nickname,")"]})]}),t.includes(a.email)&&c.jsx(qh,{className:"w-4 h-4 text-green-600"})]},a.email))})]}),c.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:c.jsxs("p",{className:"text-sm text-amber-800",children:[c.jsx("strong",{children:"Password for all accounts:"})," test123456"]})}),c.jsxs(ie,{onClick:n,disabled:r,className:"w-full",children:[r&&c.jsx(Ln,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Creating Accounts...":"Create Test Accounts"]}),t.length>0&&c.jsxs("div",{className:"text-sm text-green-600",children:[" Created ",t.length,"/",Lr.length," accounts"]})]})]})}function Pp(){return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("header",{className:"bg-card border-b border-border p-4 sm:p-6",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Development Tools"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tools for testing and development"})]}),c.jsx("div",{className:"p-4 sm:p-6",children:c.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:c.jsx(Ap,{})})})]})}function Rp(){return c.jsx(Yc,{defaultTheme:"light",storageKey:"nomad-tips-theme",children:c.jsx(Bh,{children:c.jsx(Fc,{children:c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(sp,{}),c.jsx("div",{className:"lg:pl-64",children:c.jsxs(Ic,{children:[c.jsxs(hr,{path:"/",element:c.jsx(of,{}),children:[c.jsx(hr,{index:!0,element:c.jsx(kp,{})}),c.jsx(hr,{path:"map",element:c.jsx(Cp,{})}),c.jsx(hr,{path:"profile",element:c.jsx(Np,{})})]}),c.jsx(hr,{path:"/dev",element:c.jsx(Pp,{})})]})}),c.jsx(Nd,{})]})})})})}Vl.createRoot(document.getElementById("root")).render(c.jsx(p.StrictMode,{children:c.jsx(Rp,{})}));
